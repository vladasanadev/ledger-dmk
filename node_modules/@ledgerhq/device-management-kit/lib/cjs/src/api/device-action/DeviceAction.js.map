{
  "version": 3,
  "sources": ["../../../../../src/api/device-action/DeviceAction.ts"],
  "sourcesContent": ["import { type Either } from \"purify-ts\";\nimport { type Observable } from \"rxjs\";\n\nimport { type Command } from \"@api/command/Command\";\nimport { type CommandResult } from \"@api/command/model/CommandResult\";\nimport { type TransportDeviceModel } from \"@api/device-model/model/DeviceModel\";\nimport { type ApduResponse } from \"@api/device-session/ApduResponse\";\nimport { type DeviceSessionState } from \"@api/device-session/DeviceSessionState\";\nimport { type DmkError } from \"@api/Error\";\nimport { type ManagerApiService } from \"@internal/manager-api/service/ManagerApiService\";\nimport { type SecureChannelService } from \"@internal/secure-channel/service/SecureChannelService\";\n\nimport { type DeviceActionState } from \"./model/DeviceActionState\";\n\nexport type InternalApi = {\n  readonly sendApdu: (\n    apdu: Uint8Array,\n  ) => Promise<Either<DmkError, ApduResponse>>;\n  readonly sendCommand: <Response, Args, ErrorStatusCodes>(\n    command: Command<Response, Args, ErrorStatusCodes>,\n    abortTimeout?: number,\n  ) => Promise<CommandResult<Response, ErrorStatusCodes>>;\n  readonly getDeviceModel: () => TransportDeviceModel;\n  readonly getDeviceSessionState: () => DeviceSessionState;\n  readonly getDeviceSessionStateObservable: () => Observable<DeviceSessionState>;\n  readonly setDeviceSessionState: (\n    state: DeviceSessionState,\n  ) => DeviceSessionState;\n  readonly disableRefresher: (blockerId: string) => () => void;\n  readonly getManagerApiService: () => ManagerApiService;\n  readonly getSecureChannelService: () => SecureChannelService;\n};\n\nexport type DeviceActionIntermediateValue = {\n  readonly requiredUserInteraction: string;\n};\n\nexport type ExecuteDeviceActionReturnType<Output, Error, IntermediateValue> = {\n  readonly observable: Observable<\n    DeviceActionState<Output, Error, IntermediateValue>\n  >;\n  cancel(): void;\n};\n\nexport interface DeviceAction<\n  Output,\n  Input,\n  Error extends DmkError,\n  IntermediateValue extends DeviceActionIntermediateValue,\n> {\n  readonly input: Input;\n\n  _execute(\n    params: InternalApi,\n  ): ExecuteDeviceActionReturnType<Output, Error, IntermediateValue>;\n}\n"],
  "mappings": "+WAAA,IAAAA,EAAA,kBAAAC,EAAAD",
  "names": ["DeviceAction_exports", "__toCommonJS"]
}

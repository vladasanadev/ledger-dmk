{
  "version": 3,
  "sources": ["../../../../../../src/api/transport/model/Transport.ts"],
  "sourcesContent": ["import { type Either } from \"purify-ts\";\nimport { type Observable } from \"rxjs\";\n\nimport { type DeviceId } from \"@api/device/DeviceModel\";\nimport { type DeviceModelDataSource } from \"@api/device-model/data/DeviceModelDataSource\";\nimport { type ApduReceiverServiceFactory } from \"@api/device-session/service/ApduReceiverService\";\nimport { type ApduSenderServiceFactory } from \"@api/device-session/service/ApduSenderService\";\nimport { type DmkConfig } from \"@api/DmkConfig\";\nimport { type DmkError } from \"@api/Error\";\nimport { type LoggerPublisherService } from \"@api/logger-publisher/service/LoggerPublisherService\";\nimport { type ConnectError } from \"@api/transport/model/Errors\";\nimport { type TransportDiscoveredDevice } from \"@api/transport/model/TransportDiscoveredDevice\";\nimport { type TransportIdentifier } from \"@api/transport/model/TransportIdentifier\";\n\nimport { type TransportConnectedDevice } from \"./TransportConnectedDevice\";\n\nexport type DisconnectHandler = (deviceId: DeviceId) => void;\n\n/**\n * Transport interface\n */\nexport interface Transport {\n  /**\n   * Get the transport identifier, which is a string to uniquely identify that transport.\n   */\n  getIdentifier(): TransportIdentifier;\n\n  isSupported(): boolean;\n\n  startDiscovering(): Observable<TransportDiscoveredDevice>;\n\n  stopDiscovering(): void | Promise<void>;\n\n  listenToAvailableDevices(): Observable<TransportDiscoveredDevice[]>;\n\n  /**\n   * Enables communication with the device by connecting to it.\n   *\n   * @param params containing\n   *  - id: the device id from the DTO discovered device\n   */\n  connect(params: {\n    deviceId: DeviceId;\n    onDisconnect: DisconnectHandler;\n  }): Promise<Either<ConnectError, TransportConnectedDevice>>;\n\n  disconnect(params: {\n    connectedDevice: TransportConnectedDevice;\n  }): Promise<Either<DmkError, void>>;\n}\n\nexport type TransportArgs = {\n  deviceModelDataSource: DeviceModelDataSource;\n  loggerServiceFactory: (tag: string) => LoggerPublisherService;\n  config: DmkConfig;\n  apduSenderServiceFactory: ApduSenderServiceFactory;\n  apduReceiverServiceFactory: ApduReceiverServiceFactory;\n};\n\nexport type TransportFactory = (args: TransportArgs) => Transport;\n"],
  "mappings": "+WAAA,IAAAA,EAAA,kBAAAC,EAAAD",
  "names": ["Transport_exports", "__toCommonJS"]
}

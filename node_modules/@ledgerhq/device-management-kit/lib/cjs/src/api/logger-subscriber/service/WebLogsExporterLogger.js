"use strict";var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var b=(n,t)=>{for(var e in t)i(n,e,{get:t[e],enumerable:!0})},d=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l(t))!u.call(n,o)&&o!==e&&i(n,o,{get:()=>t[o],enumerable:!(r=m(t,o))||r.enumerable});return n};var f=n=>d(i({},"__esModule",{value:!0}),n);var S={};b(S,{WebLogsExporterLogger:()=>L,getJSONStringifyReplacer:()=>p});module.exports=f(S);var c=require("../../logger-subscriber/model/LogLevel"),g=require("../../../internal/device-session/model/DeviceSession");function p(){const n=[];return function(t,e){if(e instanceof Uint8Array){const r=Array.from(e).map(o=>o.toString(16).padStart(2,"0"));return{hex:"0x"+r.join(""),readableHex:r.join(" "),value:e.toString()}}if(e instanceof g.DeviceSession){const{connectedDevice:{deviceModel:r,type:o,id:s}}=e;return{id:e.id,connectedDevice:{deviceModel:r,type:o,id:s}}}if(typeof e!="object"||e===null)return e;for(;n.length>0&&n.at(-1)!==this;)n.pop();return n.includes(e)?"[Circular]":(n.push(e),e)}}class L{logs=[];log(t,e,r){this.logs.push([t,e,r])}formatLogsToJSON(){const t=this.logs.map(([e,r,o])=>{const{timestamp:s,...a}=o;return{level:c.LogLevel[e],message:r,options:{...a,date:new Date(o.timestamp)}}});return JSON.stringify(t,p(),2)}exportLogsToJSON(){const t=this.formatLogsToJSON(),e=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(e),o=document.createElement("a");o.href=r,o.download=`ledger-device-management-kit-logs-${new Date().toISOString()}.json`,o.click()}}0&&(module.exports={WebLogsExporterLogger,getJSONStringifyReplacer});
//# sourceMappingURL=WebLogsExporterLogger.js.map

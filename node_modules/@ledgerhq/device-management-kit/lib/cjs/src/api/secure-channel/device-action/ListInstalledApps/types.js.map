{
  "version": 3,
  "sources": ["../../../../../../../src/api/secure-channel/device-action/ListInstalledApps/types.ts"],
  "sourcesContent": ["import { type EitherAsync } from \"purify-ts\";\nimport { type Observable } from \"rxjs\";\n\nimport { type CommandErrorResult } from \"@api/command/model/CommandResult\";\nimport {\n  type GetOsVersionCommandResult,\n  type GetOsVersionResponse,\n} from \"@api/command/os/GetOsVersionCommand\";\nimport { type DeviceActionState } from \"@api/device-action/model/DeviceActionState\";\nimport { type UserInteractionRequired } from \"@api/device-action/model/UserInteractionRequired\";\nimport { type UnknownDAError } from \"@api/device-action/os/Errors\";\nimport {\n  type GoToDashboardDAError,\n  type GoToDashboardDAInput,\n} from \"@api/device-action/os/GoToDashboard/types\";\nimport { type DeviceSessionState } from \"@api/device-session/DeviceSessionState\";\nimport { type SecureChannelEvent } from \"@api/secure-channel/task/types\";\nimport { type Input } from \"@api/secure-channel/types\";\nimport { type DeviceVersion } from \"@internal/manager-api/model/Device\";\nimport { type HttpFetchApiError } from \"@internal/manager-api/model/Errors\";\nimport { type FinalFirmware } from \"@internal/manager-api/model/Firmware\";\nimport type { SecureChannelDAErrors } from \"@internal/secure-channel/model/Errors\";\n\nexport type ListInstalledAppsDAOutput = {\n  installedApps: Array<InstalledApp>;\n};\n\nexport type ListInstalledAppsDAInput = GoToDashboardDAInput;\n\nexport type ListInstalledAppsDAError =\n  | CommandErrorResult[\"error\"]\n  | GoToDashboardDAError\n  | HttpFetchApiError\n  | SecureChannelDAErrors\n  | UnknownDAError;\n\nexport type ListInstalledAppsDARequiredInteraction =\n  | UserInteractionRequired.None\n  | UserInteractionRequired.UnlockDevice\n  | UserInteractionRequired.AllowSecureConnection;\n\nexport type ListInstalledAppsDAIntermediateValue = {\n  requiredUserInteraction: ListInstalledAppsDARequiredInteraction;\n  deviceId?: Uint8Array;\n};\n\nexport type ListInstalledAppsDAState = DeviceActionState<\n  ListInstalledAppsDAOutput,\n  ListInstalledAppsDAError,\n  ListInstalledAppsDAIntermediateValue\n>;\n\nexport type ListInstalledAppsStateMachineInternalState = {\n  error: ListInstalledAppsDAError | null;\n  result: { installedApps: Array<InstalledApp> };\n  getOsVersionResponse: GetOsVersionResponse | null;\n  deviceVersion: DeviceVersion | null;\n  firmwareVersion: FinalFirmware | null;\n};\n\nexport type MachineDependencies = {\n  getOsVersion: () => Promise<GetOsVersionCommandResult>;\n  getDeviceVersion: (\n    args: Input<{ deviceInfo: GetOsVersionResponse }>,\n  ) => EitherAsync<HttpFetchApiError, DeviceVersion>;\n  getFirmwareVersion: (\n    args: Input<{\n      deviceInfo: GetOsVersionResponse;\n      deviceVersion: DeviceVersion;\n    }>,\n  ) => EitherAsync<HttpFetchApiError, FinalFirmware>;\n  listInstalledApps: (\n    args: Input<{\n      deviceInfo: GetOsVersionResponse;\n      finalFirmware: FinalFirmware;\n    }>,\n  ) => Observable<SecureChannelEvent>;\n  getDeviceSessionState: () => DeviceSessionState;\n  setDeviceSessionState: (state: DeviceSessionState) => DeviceSessionState;\n};\n\nexport type InstalledApp = {\n  flags: number;\n  hash: string;\n  hash_code_data: string;\n  name: string;\n};\n\nexport function installedAppResultGuard(\n  value: unknown,\n): value is ListInstalledAppsDAOutput[\"installedApps\"] {\n  return (\n    Array.isArray(value) &&\n    value.every(\n      (item) =>\n        typeof item === \"object\" &&\n        item !== null &&\n        \"flags\" in item &&\n        \"hash\" in item &&\n        \"hash_code_data\" in item &&\n        \"name\" in item &&\n        typeof item.flags === \"number\" &&\n        typeof item.hash === \"string\" &&\n        typeof item.hash_code_data === \"string\" &&\n        typeof item.name === \"string\",\n    )\n  );\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,6BAAAE,IAAA,eAAAC,EAAAH,GAwFO,SAASE,EACdE,EACqD,CACrD,OACE,MAAM,QAAQA,CAAK,GACnBA,EAAM,MACHC,GACC,OAAOA,GAAS,UAChBA,IAAS,MACT,UAAWA,GACX,SAAUA,GACV,mBAAoBA,GACpB,SAAUA,GACV,OAAOA,EAAK,OAAU,UACtB,OAAOA,EAAK,MAAS,UACrB,OAAOA,EAAK,gBAAmB,UAC/B,OAAOA,EAAK,MAAS,QACzB,CAEJ",
  "names": ["types_exports", "__export", "installedAppResultGuard", "__toCommonJS", "value", "item"]
}

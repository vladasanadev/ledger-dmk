"use strict";var a=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var x=(u,e)=>{for(var t in e)a(u,t,{get:e[t],enumerable:!0})},l=(u,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of o(e))!b.call(u,n)&&n!==t&&a(u,n,{get:()=>e[n],enumerable:!(r=s(e,n))||r.enumerable});return u};var c=u=>l(a({},"__esModule",{value:!0}),u);var g={};x(g,{ByteArrayParser:()=>h});module.exports=c(g);var f=require("../../utils/HexaString");class h{constructor(e){this.buffer=e}index=0;testMinimalLength(e){return e<=this.buffer.length-this.index}extract8BitUInt(){if(!this.outOfRange(1))return this.buffer[this.index++]}extract16BitUInt(e=!0){const t=this.extractNumber(16n,!1,e);return t===void 0?void 0:Number(t)}extract16BitInt(e=!0){const t=this.extractNumber(16n,!0,e);return t===void 0?void 0:Number(t)}extract32BitUInt(e=!0){const t=this.extractNumber(32n,!1,e);return t===void 0?void 0:Number(t)}extract32BitInt(e=!0){const t=this.extractNumber(32n,!0,e);return t===void 0?void 0:Number(t)}extract64BitUInt(e=!0){return this.extractNumber(64n,!1,e)}extract64BitInt(e=!0){return this.extractNumber(64n,!0,e)}extract128BitUInt(e=!0){return this.extractNumber(128n,!1,e)}extract128BitInt(e=!0){return this.extractNumber(128n,!0,e)}extract256BitUInt(e=!0){return this.extractNumber(256n,!1,e)}extract256BitInt(e=!0){return this.extractNumber(256n,!0,e)}extractFieldByLength(e){if(this.outOfRange(e))return;if(e===0)return new Uint8Array;const t=this.buffer.slice(this.index,this.index+e);return this.index+=e,t}extractFieldLVEncoded(){const e=this.extract8BitUInt();if(e===void 0)return;if(e===0)return new Uint8Array;const t=this.extractFieldByLength(e);return t===void 0&&this.index--,t}extractFieldTLVEncoded(){if(this.outOfRange(2))return;const e=this.index,t=this.extract8BitUInt(),r=this.extractFieldLVEncoded();if(t===void 0||r===void 0){this.index--;return}const n=this.index;return{tag:t,value:r,tlv:this.buffer.slice(e,n)}}encodeToHexaString(e,t=!1){if(e===void 0||e.length===0)return"";const r=(0,f.bufferToHexaString)(e);return t?r:r.slice(2)}encodeToString(e){let t="",r=0;if(!e)return t;for(;r<=e.length;){const n=e[r];n&&(t+=String.fromCharCode(n)),r++}return t}getCurrentIndex(){return this.index}resetIndex(){this.index=0}getUnparsedRemainingLength(){return this.buffer.length-this.index}outOfRange(e){return this.index+e>this.buffer.length}extractNumber(e,t,r){const n=Number(e)/8;if(this.outOfRange(n))return;let d=0n;if(r)for(let i=0;i<n;i++)d=d<<8n|BigInt(this.buffer[i+this.index]);else for(let i=n-1;i>=0;i--)d=d<<8n|BigInt(this.buffer[i+this.index]);if(t){const i=1n<<e-1n;d&i&&(d-=i<<1n)}return this.index+=n,d}}0&&(module.exports={ByteArrayParser});
//# sourceMappingURL=ByteArrayParser.js.map

{
  "version": 3,
  "sources": ["../../../../../../src/api/command/os/OpenAppCommand.test.ts"],
  "sourcesContent": ["import { type CommandErrorResult } from \"@api/command/model/CommandResult\";\nimport { ApduResponse } from \"@api/device-session/ApduResponse\";\nimport { isSuccessCommandResult } from \"@root/src\";\n\nimport {\n  OpenAppCommand,\n  OpenAppCommandError,\n  type OpenAppErrorCodes,\n} from \"./OpenAppCommand\";\n\ndescribe(\"OpenAppCommand\", () => {\n  const appName = \"MyApp\";\n\n  describe(\"name\", () => {\n    it(\"should be 'openApp'\", () => {\n      expect(new OpenAppCommand({ appName }).name).toBe(\"openApp\");\n    });\n  });\n\n  it(\"should return the correct APDU for opening an application\", () => {\n    const expectedApdu = Uint8Array.from([\n      0xe0, 0xd8, 0x00, 0x00, 0x05, 0x4d, 0x79, 0x41, 0x70, 0x70,\n    ]);\n    const apdu = new OpenAppCommand({ appName }).getApdu();\n    expect(apdu.getRawApdu()).toStrictEqual(expectedApdu);\n  });\n\n  it(\"should not throw error when command is successful\", () => {\n    const apduResponse: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([]),\n    });\n    expect(() =>\n      new OpenAppCommand({ appName }).parseResponse(apduResponse),\n    ).not.toThrow();\n  });\n\n  describe(\"errors\", () => {\n    it(\"should return a handled open app error if no name provided\", () => {\n      const apduResponse: ApduResponse = new ApduResponse({\n        statusCode: new Uint8Array([0x67, 0x0a]),\n        data: new Uint8Array([]),\n      });\n      const result = new OpenAppCommand({ appName }).parseResponse(\n        apduResponse,\n      ) as CommandErrorResult<OpenAppErrorCodes>;\n      expect(isSuccessCommandResult(result)).toBe(false);\n      expect(result.error).toBeInstanceOf(OpenAppCommandError);\n    });\n    it(\"should return a handled open app error if unknown application name\", () => {\n      const apduResponse: ApduResponse = new ApduResponse({\n        statusCode: new Uint8Array([0x68, 0x07]),\n        data: new Uint8Array([]),\n      });\n      const result = new OpenAppCommand({ appName }).parseResponse(\n        apduResponse,\n      ) as CommandErrorResult<OpenAppErrorCodes>;\n      expect(isSuccessCommandResult(result)).toBe(false);\n      expect(result.error).toBeInstanceOf(OpenAppCommandError);\n    });\n  });\n});\n"],
  "mappings": "aACA,IAAAA,EAA6B,4CAC7BC,EAAuC,qBAEvCC,EAIO,4BAEP,SAAS,iBAAkB,IAAM,CAC/B,MAAMC,EAAU,QAEhB,SAAS,OAAQ,IAAM,CACrB,GAAG,sBAAuB,IAAM,CAC9B,OAAO,IAAI,iBAAe,CAAE,QAAAA,CAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,SAAS,CAC7D,CAAC,CACH,CAAC,EAED,GAAG,4DAA6D,IAAM,CACpE,MAAMC,EAAe,WAAW,KAAK,CACnC,IAAM,IAAM,EAAM,EAAM,EAAM,GAAM,IAAM,GAAM,IAAM,GACxD,CAAC,EACKC,EAAO,IAAI,iBAAe,CAAE,QAAAF,CAAQ,CAAC,EAAE,QAAQ,EACrD,OAAOE,EAAK,WAAW,CAAC,EAAE,cAAcD,CAAY,CACtD,CAAC,EAED,GAAG,oDAAqD,IAAM,CAC5D,MAAME,EAA6B,IAAI,eAAa,CAClD,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACD,OAAO,IACL,IAAI,iBAAe,CAAE,QAAAH,CAAQ,CAAC,EAAE,cAAcG,CAAY,CAC5D,EAAE,IAAI,QAAQ,CAChB,CAAC,EAED,SAAS,SAAU,IAAM,CACvB,GAAG,6DAA8D,IAAM,CACrE,MAAMA,EAA6B,IAAI,eAAa,CAClD,WAAY,IAAI,WAAW,CAAC,IAAM,EAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACKC,EAAS,IAAI,iBAAe,CAAE,QAAAJ,CAAQ,CAAC,EAAE,cAC7CG,CACF,EACA,UAAO,0BAAuBC,CAAM,CAAC,EAAE,KAAK,EAAK,EACjD,OAAOA,EAAO,KAAK,EAAE,eAAe,qBAAmB,CACzD,CAAC,EACD,GAAG,qEAAsE,IAAM,CAC7E,MAAMD,EAA6B,IAAI,eAAa,CAClD,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACKC,EAAS,IAAI,iBAAe,CAAE,QAAAJ,CAAQ,CAAC,EAAE,cAC7CG,CACF,EACA,UAAO,0BAAuBC,CAAM,CAAC,EAAE,KAAK,EAAK,EACjD,OAAOA,EAAO,KAAK,EAAE,eAAe,qBAAmB,CACzD,CAAC,CACH,CAAC,CACH,CAAC",
  "names": ["import_ApduResponse", "import_src", "import_OpenAppCommand", "appName", "expectedApdu", "apdu", "apduResponse", "result"]
}

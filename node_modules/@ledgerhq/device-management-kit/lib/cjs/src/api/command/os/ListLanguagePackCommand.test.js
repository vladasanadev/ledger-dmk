"use strict";var r=require("../../command/Errors"),a=require("../../command/model/CommandResult"),u=require("../../command/model/CommandResult"),o=require("../../command/os/ListLanguagePackCommand"),n=require("../../device-session/ApduResponse");const i=new Uint8Array([224,52,0,0,0]),d=new Uint8Array([224,52,1,0,0]);describe("ListLanguagePackCommand",()=>{let t;beforeEach(()=>{t=new o.ListLanguagePackCommand({firstChunk:!0})}),describe("name",()=>{it("should be 'listLanguagePack'",()=>{expect(t.name).toBe("listLanguagePack")})}),it("should return the correct APDU",()=>{const e=t.getApdu();expect(e.getRawApdu()).toStrictEqual(i)}),it("should return the correct next chunks APDU",()=>{t=new o.ListLanguagePackCommand({firstChunk:!1});const e=t.getApdu();expect(e.getRawApdu()).toStrictEqual(d)}),it("should parse result successfully",()=>{const e=new n.ApduResponse({statusCode:new Uint8Array([144,0]),data:new Uint8Array([1,15,1,1,4,0,0,80,0,5,48,46,48,46,52,0])}),s=t.parseResponse(e);expect(s).toStrictEqual((0,a.CommandResultFactory)({data:{id:1,size:20480}}))}),it("should parse empty result successfully",()=>{const e=new n.ApduResponse({statusCode:new Uint8Array([144,0]),data:new Uint8Array([])}),s=t.parseResponse(e);expect(s).toStrictEqual((0,a.CommandResultFactory)({data:void 0}))}),it("should fail on invalid id",()=>{const e=new n.ApduResponse({statusCode:new Uint8Array([144,0]),data:new Uint8Array([1,15])}),s=t.parseResponse(e);expect(s).toStrictEqual((0,a.CommandResultFactory)({error:new r.InvalidStatusWordError("Failed to get language pack id")}))}),it("should fail on invalid size",()=>{const e=new n.ApduResponse({statusCode:new Uint8Array([144,0]),data:new Uint8Array([1,15,1,1])}),s=t.parseResponse(e);expect(s).toStrictEqual((0,a.CommandResultFactory)({error:new r.InvalidStatusWordError("Failed to get language pack size")}))}),it("should fail on device error",()=>{const e=new n.ApduResponse({statusCode:new Uint8Array([102,45]),data:new Uint8Array([])}),s=t.parseResponse(e);expect((0,u.isSuccessCommandResult)(s)).toBeFalsy()})});
//# sourceMappingURL=ListLanguagePackCommand.test.js.map

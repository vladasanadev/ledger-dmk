{
  "version": 3,
  "sources": ["../../../../../../src/api/command/os/CloseAppCommand.ts"],
  "sourcesContent": ["import { type Apdu } from \"@api/apdu/model/Apdu\";\nimport { ApduBuilder, type ApduBuilderArgs } from \"@api/apdu/utils/ApduBuilder\";\nimport { type Command } from \"@api/command/Command\";\nimport {\n  type CommandResult,\n  CommandResultFactory,\n} from \"@api/command/model/CommandResult\";\nimport { CommandUtils } from \"@api/command/utils/CommandUtils\";\nimport { GlobalCommandErrorHandler } from \"@api/command/utils/GlobalCommandError\";\nimport { type ApduResponse } from \"@api/device-session/ApduResponse\";\n\nexport type CloseAppCommandResult = CommandResult<void>;\n\n/**\n * The command to close a runnint application on the device.\n */\nexport class CloseAppCommand implements Command<void> {\n  readonly name = \"closeApp\";\n  readonly args = undefined;\n\n  readonly triggersDisconnection = true;\n\n  getApdu(): Apdu {\n    const closeAppApduArgs: ApduBuilderArgs = {\n      cla: 0xb0,\n      ins: 0xa7,\n      p1: 0x00,\n      p2: 0x00,\n    };\n    return new ApduBuilder(closeAppApduArgs).build();\n  }\n\n  parseResponse(apduResponse: ApduResponse): CommandResult<void> {\n    if (CommandUtils.isSuccessResponse(apduResponse)) {\n      return CommandResultFactory({\n        data: undefined,\n      });\n    }\n    return CommandResultFactory({\n      error: GlobalCommandErrorHandler.handle(apduResponse),\n    });\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,qBAAAE,IAAA,eAAAC,EAAAH,GACA,IAAAI,EAAkD,uCAElDC,EAGO,4CACPC,EAA6B,2CAC7BC,EAA0C,iDAQnC,MAAML,CAAyC,CAC3C,KAAO,WACP,KAAO,OAEP,sBAAwB,GAEjC,SAAgB,CACd,MAAMM,EAAoC,CACxC,IAAK,IACL,IAAK,IACL,GAAI,EACJ,GAAI,CACN,EACA,OAAO,IAAI,cAAYA,CAAgB,EAAE,MAAM,CACjD,CAEA,cAAcC,EAAiD,CAC7D,OAAI,eAAa,kBAAkBA,CAAY,KACtC,wBAAqB,CAC1B,KAAM,MACR,CAAC,KAEI,wBAAqB,CAC1B,MAAO,4BAA0B,OAAOA,CAAY,CACtD,CAAC,CACH,CACF",
  "names": ["CloseAppCommand_exports", "__export", "CloseAppCommand", "__toCommonJS", "import_ApduBuilder", "import_CommandResult", "import_CommandUtils", "import_GlobalCommandError", "closeAppApduArgs", "apduResponse"]
}

"use strict";var a=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var f=(r,e)=>{for(var o in e)a(r,o,{get:e[o],enumerable:!0})},z=(r,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of E(e))!S.call(r,m)&&m!==o&&a(r,m,{get:()=>e[m],enumerable:!(t=I(e,m))||t.enumerable});return r};var G=r=>z(a({},"__esModule",{value:!0}),r);var y={};f(y,{GetCustomImageSizeCommand:()=>A,GetCustomImageSizeCommandError:()=>c});module.exports=G(y);var d=require("../../apdu/utils/ApduBuilder"),i=require("../../apdu/utils/ApduParser"),u=require("../../command/Errors"),s=require("../../command/model/CommandResult"),p=require("../../command/utils/CommandErrors"),C=require("../../command/utils/CommandUtils"),g=require("../../command/utils/GlobalCommandError"),l=require("../../Error");const n={"662e":{message:"Invalid state, no background image loaded."},"662f":{message:"Invalid state, device is in recovery mode."}};class c extends l.DeviceExchangeError{constructor({message:e,errorCode:o}){super({message:e,errorCode:o,tag:"GetCustomImageSizeCommandError"})}}class A{name="getCustomImageSize";getApdu(){const e={cla:224,ins:100,p1:0,p2:0};return new d.ApduBuilder(e).build()}parseResponse(e){const o=new i.ApduParser(e);if(!C.CommandUtils.isSuccessResponse(e)){const m=o.encodeToHexaString(e.statusCode);return(0,p.isCommandErrorCode)(m,n)?(0,s.CommandResultFactory)({error:new c({...n[m],errorCode:m})}):(0,s.CommandResultFactory)({error:g.GlobalCommandErrorHandler.handle(e)})}const t=o.extract32BitUInt();return t===void 0?(0,s.CommandResultFactory)({error:new u.InvalidStatusWordError("Didn't receive any size")}):(0,s.CommandResultFactory)({data:t})}}0&&(module.exports={GetCustomImageSizeCommand,GetCustomImageSizeCommandError});
//# sourceMappingURL=GetCustomImageSizeCommand.js.map

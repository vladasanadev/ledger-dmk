{
  "version": 3,
  "sources": ["../../../../../../src/api/command/os/ListLanguagePackCommand.test.ts"],
  "sourcesContent": ["import { InvalidStatusWordError } from \"@api/command/Errors\";\nimport { CommandResultFactory } from \"@api/command/model/CommandResult\";\nimport { isSuccessCommandResult } from \"@api/command/model/CommandResult\";\nimport { ListLanguagePackCommand } from \"@api/command/os/ListLanguagePackCommand\";\nimport { ApduResponse } from \"@api/device-session/ApduResponse\";\n\nconst LIST_LANGUAGE_PACK_APDU = new Uint8Array([0xe0, 0x34, 0x00, 0x00, 0x00]);\nconst LIST_LANGUAGE_PACK_CONTINUE_APDU = new Uint8Array([\n  0xe0, 0x34, 0x01, 0x00, 0x00,\n]);\n\ndescribe(\"ListLanguagePackCommand\", () => {\n  let command: ListLanguagePackCommand;\n\n  beforeEach(() => {\n    command = new ListLanguagePackCommand({ firstChunk: true });\n  });\n\n  describe(\"name\", () => {\n    it(\"should be 'listLanguagePack'\", () => {\n      expect(command.name).toBe(\"listLanguagePack\");\n    });\n  });\n\n  it(\"should return the correct APDU\", () => {\n    const apdu = command.getApdu();\n    expect(apdu.getRawApdu()).toStrictEqual(LIST_LANGUAGE_PACK_APDU);\n  });\n\n  it(\"should return the correct next chunks APDU\", () => {\n    command = new ListLanguagePackCommand({ firstChunk: false });\n    const apdu = command.getApdu();\n    expect(apdu.getRawApdu()).toStrictEqual(LIST_LANGUAGE_PACK_CONTINUE_APDU);\n  });\n\n  it(\"should parse result successfully\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([\n        0x01, 0x0f, 0x01, 0x01, 0x04, 0x00, 0x00, 0x50, 0x00, 0x05, 0x30, 0x2e,\n        0x30, 0x2e, 0x34, 0x00,\n      ]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        data: {\n          id: 1,\n          size: 20480,\n        },\n      }),\n    );\n  });\n\n  it(\"should parse empty result successfully\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        data: undefined,\n      }),\n    );\n  });\n\n  it(\"should fail on invalid id\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([0x01, 0x0f]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        error: new InvalidStatusWordError(\"Failed to get language pack id\"),\n      }),\n    );\n  });\n\n  it(\"should fail on invalid size\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([0x01, 0x0f, 0x01, 0x01]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        error: new InvalidStatusWordError(\"Failed to get language pack size\"),\n      }),\n    );\n  });\n\n  it(\"should fail on device error\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x66, 0x2d]),\n      data: new Uint8Array([]),\n    });\n    const result = command.parseResponse(response);\n    expect(isSuccessCommandResult(result)).toBeFalsy();\n  });\n});\n"],
  "mappings": "aAAA,IAAAA,EAAuC,+BACvCC,EAAqC,4CACrCA,EAAuC,4CACvCC,EAAwC,mDACxCC,EAA6B,4CAE7B,MAAMC,EAA0B,IAAI,WAAW,CAAC,IAAM,GAAM,EAAM,EAAM,CAAI,CAAC,EACvEC,EAAmC,IAAI,WAAW,CACtD,IAAM,GAAM,EAAM,EAAM,CAC1B,CAAC,EAED,SAAS,0BAA2B,IAAM,CACxC,IAAIC,EAEJ,WAAW,IAAM,CACfA,EAAU,IAAI,0BAAwB,CAAE,WAAY,EAAK,CAAC,CAC5D,CAAC,EAED,SAAS,OAAQ,IAAM,CACrB,GAAG,+BAAgC,IAAM,CACvC,OAAOA,EAAQ,IAAI,EAAE,KAAK,kBAAkB,CAC9C,CAAC,CACH,CAAC,EAED,GAAG,iCAAkC,IAAM,CACzC,MAAMC,EAAOD,EAAQ,QAAQ,EAC7B,OAAOC,EAAK,WAAW,CAAC,EAAE,cAAcH,CAAuB,CACjE,CAAC,EAED,GAAG,6CAA8C,IAAM,CACrDE,EAAU,IAAI,0BAAwB,CAAE,WAAY,EAAM,CAAC,EAC3D,MAAMC,EAAOD,EAAQ,QAAQ,EAC7B,OAAOC,EAAK,WAAW,CAAC,EAAE,cAAcF,CAAgC,CAC1E,CAAC,EAED,GAAG,mCAAoC,IAAM,CAC3C,MAAMG,EAAyB,IAAI,eAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CACnB,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,EAAM,EAAM,GAAM,GAClE,GAAM,GAAM,GAAM,CACpB,CAAC,CACH,CAAC,EACKC,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,iBACb,wBAAqB,CACnB,KAAM,CACJ,GAAI,EACJ,KAAM,KACR,CACF,CAAC,CACH,CACF,CAAC,EAED,GAAG,yCAA0C,IAAM,CACjD,MAAMD,EAAyB,IAAI,eAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACKC,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,iBACb,wBAAqB,CACnB,KAAM,MACR,CAAC,CACH,CACF,CAAC,EAED,GAAG,4BAA6B,IAAM,CACpC,MAAMD,EAAyB,IAAI,eAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,EAAM,EAAI,CAAC,CACnC,CAAC,EACKC,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,iBACb,wBAAqB,CACnB,MAAO,IAAI,yBAAuB,gCAAgC,CACpE,CAAC,CACH,CACF,CAAC,EAED,GAAG,8BAA+B,IAAM,CACtC,MAAMD,EAAyB,IAAI,eAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,EAAM,GAAM,EAAM,CAAI,CAAC,CAC/C,CAAC,EACKC,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,iBACb,wBAAqB,CACnB,MAAO,IAAI,yBAAuB,kCAAkC,CACtE,CAAC,CACH,CACF,CAAC,EAED,GAAG,8BAA+B,IAAM,CACtC,MAAMD,EAAyB,IAAI,eAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,EAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACKC,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,UAAO,0BAAuBC,CAAM,CAAC,EAAE,UAAU,CACnD,CAAC,CACH,CAAC",
  "names": ["import_Errors", "import_CommandResult", "import_ListLanguagePackCommand", "import_ApduResponse", "LIST_LANGUAGE_PACK_APDU", "LIST_LANGUAGE_PACK_CONTINUE_APDU", "command", "apdu", "response", "result"]
}

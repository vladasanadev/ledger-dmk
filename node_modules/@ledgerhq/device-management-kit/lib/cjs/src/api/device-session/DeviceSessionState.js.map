{
  "version": 3,
  "sources": ["../../../../../src/api/device-session/DeviceSessionState.ts"],
  "sourcesContent": ["import { type GetAppAndVersionResponse } from \"@api/command/os/GetAppAndVersionCommand\";\nimport { type BatteryStatusFlags } from \"@api/command/os/GetBatteryStatusCommand\";\nimport { type GetOsVersionResponse } from \"@api/command/os/GetOsVersionCommand\";\nimport { type DeviceModelId } from \"@api/device/DeviceModel\";\nimport { type DeviceStatus } from \"@api/device/DeviceStatus\";\nimport { type Application } from \"@internal/manager-api/model/Application\";\nimport {\n  type FinalFirmware,\n  type OsuFirmware,\n} from \"@internal/manager-api/model/Firmware\";\nimport { type LanguagePackage } from \"@internal/manager-api/model/Language\";\n\n/**\n * The battery status of a device.\n */\nexport type BatteryStatus = {\n  readonly level: number;\n  readonly voltage: number;\n  readonly temperature: number;\n  readonly current: number;\n  readonly status: BatteryStatusFlags;\n};\n\n/**\n * The firmware version of a device.\n */\nexport type FirmwareVersion = {\n  /**\n   * Microcontroller Unit version\n   */\n  readonly mcu: string;\n\n  /**\n   * Bootloader version\n   */\n  readonly bootloader: string;\n\n  /**\n   * Operating System version\n   */\n  readonly os: string;\n\n  /**\n   * Metadata for advanced users, to get detailed informations on\n   * the firmware running on the device.\n   */\n  readonly metadata?: GetOsVersionResponse;\n};\n\n/**\n * Context for firmware updates\n */\nexport type FirmwareUpdateContext = {\n  /**\n   * Current installed firmware\n   */\n  readonly currentFirmware: FinalFirmware;\n\n  /**\n   * Available firmware update\n   */\n  readonly availableUpdate?: FirmwareUpdate;\n};\n\n/**\n * Available firmware update\n */\nexport type FirmwareUpdate = {\n  /**\n   * Version of the OS updater firmware\n   */\n  readonly osuFirmware: OsuFirmware;\n\n  /**\n   * Version of the final firmware\n   */\n  readonly finalFirmware: FinalFirmware;\n\n  /**\n   * Indicates if the MCU needs to be updated\n   */\n  readonly mcuUpdateRequired: boolean;\n};\n\n/**\n * The app store catalog for that device.\n */\nexport type Catalog = {\n  /**\n   * Available applications for the device\n   */\n  readonly applications: Application[];\n\n  /**\n   * Available languages packages for the device\n   */\n  readonly languagePackages: LanguagePackage[];\n};\n\n/**\n * Language package installed on the device\n */\nexport type InstalledLanguagePackage = {\n  /**\n   * The identifier of the language package\n   */\n  readonly id: number;\n\n  /**\n   * The size of the language package\n   */\n  readonly size: number;\n};\n\n/**\n * Custom image metadata, if one was loaded on the device\n */\nexport type CustomImage = {\n  /**\n   * The size of loaded custom image, if one was loaded\n   */\n  readonly size?: number;\n};\n\n/**\n * The current application running on a device. Alias of GetAppAndVersionResponse.\n */\nexport type RunningApp = GetAppAndVersionResponse;\n\n/**\n * The state types of a device session.\n */\nexport enum DeviceSessionStateType {\n  Connected,\n  ReadyWithoutSecureChannel,\n  ReadyWithSecureChannel,\n}\n\ntype DeviceSessionBaseState = {\n  readonly sessionStateType: DeviceSessionStateType;\n\n  /**\n   * The status of the device.\n   */\n  readonly deviceStatus: DeviceStatus;\n\n  /**\n   * The model of the device.\n   */\n  readonly deviceModelId: DeviceModelId;\n\n  /**\n   * The name of the device.\n   */\n  readonly deviceName?: string;\n};\n\ntype DeviceSessionReadyState = {\n  /**\n   * The battery status of the device.\n   * TODO: This should not be optional, but it is not in the current implementation.\n   */\n  readonly batteryStatus?: BatteryStatus;\n\n  /**\n   * The firmware version of the device.\n   * TODO: This should not be optional, but it is not in the current implementation.\n   */\n  readonly firmwareVersion?: FirmwareVersion;\n\n  /**\n   * Context of available firmware update\n   */\n  readonly firmwareUpdateContext?: FirmwareUpdateContext;\n\n  /**\n   * The current application running on the device.\n   */\n  readonly currentApp: RunningApp;\n\n  /**\n   * The current applications installed on the device.\n   */\n  readonly installedApps: Application[];\n\n  /**\n   * Available updates from the app store for installed applications.\n   */\n  readonly appsUpdates?: Application[];\n\n  /**\n   * The current language packages installed on the device.\n   */\n  readonly installedLanguages?: InstalledLanguagePackage[];\n\n  /**\n   * Catalog of available applications and languages for the device.\n   */\n  readonly catalog?: Catalog;\n\n  /**\n   * Custom image metadata.\n   */\n  readonly customImage?: CustomImage;\n\n  /**\n   * The device is allowed to establish a secure connection.\n   */\n  readonly isSecureConnectionAllowed: boolean;\n};\n\n/**\n * The state of a connected device session.\n */\nexport type ConnectedState = DeviceSessionBaseState & {\n  /**\n   * The type of the device session state.\n   */\n  readonly sessionStateType: DeviceSessionStateType.Connected;\n};\n\n/**\n * The state of a device session when it is ready without a secure channel.\n */\nexport type ReadyWithoutSecureChannelState = DeviceSessionBaseState &\n  DeviceSessionReadyState & {\n    /**\n     * The type of the device session state.\n     */\n    readonly sessionStateType: DeviceSessionStateType.ReadyWithoutSecureChannel;\n  };\n\n/**\n * The state of a device session when it is ready with a secure channel.\n */\nexport type ReadyWithSecureChannelState = DeviceSessionBaseState &\n  DeviceSessionReadyState & {\n    /**\n     * The type of the device session state.\n     */\n    readonly sessionStateType: DeviceSessionStateType.ReadyWithSecureChannel;\n  };\n\n/**\n * The state of a device session.\n */\nexport type DeviceSessionState =\n  | ConnectedState\n  | ReadyWithoutSecureChannelState\n  | ReadyWithSecureChannelState;\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,4BAAAE,IAAA,eAAAC,EAAAH,GAoIO,IAAKE,OACVA,IAAA,yBACAA,IAAA,yDACAA,IAAA,mDAHUA,OAAA",
  "names": ["DeviceSessionState_exports", "__export", "DeviceSessionStateType", "__toCommonJS"]
}

"use strict";var c=Object.defineProperty;var s=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var L=(r,o)=>{for(var e in o)c(r,e,{get:o[e],enumerable:!0})},v=(r,o,e,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of C(o))!h.call(r,t)&&t!==e&&c(r,t,{get:()=>o[t],enumerable:!(i=s(o,t))||i.enumerable});return r};var S=r=>v(c({},"__esModule",{value:!0}),r),u=(r,o,e,i)=>{for(var t=i>1?void 0:i?s(o,e):o,l=r.length-1,f;l>=0;l--)(f=r[l])&&(t=(i?f(o,e,t):f(t))||t);return i&&t&&c(o,e,t),t},n=(r,o)=>(e,i)=>o(e,i,r);var _={};L(_,{DefaultConfigService:()=>g});module.exports=S(_);var a=require("inversify"),m=require("../../config/di/configTypes"),p=require("../../logger-publisher/di/loggerTypes");let g=class{_local;_remote;_logger;constructor(o,e,i){this._local=o,this._remote=e,this._logger=i("config")}async getDmkConfig(){const o=this._local.getConfig().ifLeft(e=>{this._logger.error("Local config not available",{data:{error:e}})});if(o.isRight()){const e=o.extract();return this._logger.info("Local config available",{data:{config:e}}),e}return this._remote.getConfig().then(e=>e.mapLeft(i=>(this._logger.error("Local config available",{data:{error:i}}),{name:"DeadDmk",version:"0.0.0-dead.1"})).extract())}};g=u([(0,a.injectable)(),n(0,(0,a.inject)(m.configTypes.LocalConfigDataSource)),n(1,(0,a.inject)(m.configTypes.RemoteConfigDataSource)),n(2,(0,a.inject)(p.loggerTypes.LoggerPublisherServiceFactory))],g);0&&(module.exports={DefaultConfigService});
//# sourceMappingURL=DefaultConfigService.js.map

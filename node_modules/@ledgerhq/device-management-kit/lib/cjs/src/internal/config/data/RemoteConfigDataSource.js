"use strict";var f=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var w=(n,r)=>{for(var e in r)f(n,e,{get:r[e],enumerable:!0})},C=(n,r,e,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of g(r))!u.call(n,i)&&i!==e&&f(n,i,{get:()=>r[i],enumerable:!(o=l(r,i))||o.enumerable});return n};var P=n=>C(f({},"__esModule",{value:!0}),n),c=(n,r,e,o)=>{for(var i=o>1?void 0:o?l(r,e):r,m=n.length-1,p;m>=0;m--)(p=n[m])&&(i=(o?p(r,e,i):p(i))||i);return o&&i&&f(r,e,i),i};var h={};w(h,{RestRemoteConfigDataSource:()=>a});module.exports=P(h);var E=require("inversify"),t=require("purify-ts"),s=require("../../config/model/Errors");let a=class{async getConfig(){const r=await this._callApi();if(r.isLeft())return(0,t.Left)(new s.ApiCallError(r.extract()));if(!r.extract().ok)return(0,t.Left)(new s.ApiCallError(new Error("response not ok")));const e=await r.extract().json();return e.isLeft()?(0,t.Left)(new s.JSONParseError):e.chain(o=>this._parseResponse(o)).map(o=>o)}_parseResponse(r){const{name:e,version:o}=r;return!e||!o?(0,t.Left)(new s.ParseResponseError):t.Either.of({name:e,version:o})}_callApi(){return new Promise(r=>{r(t.Either.of({ok:!0,json:async()=>new Promise(e=>{e(t.Either.of({name:"DeviceSDK",version:"0.0.0-fake.1",yolo:"yolo"}))})}))})}};a=c([(0,E.injectable)()],a);0&&(module.exports={RestRemoteConfigDataSource});
//# sourceMappingURL=RemoteConfigDataSource.js.map

{
  "version": 3,
  "sources": ["../../../../../../src/internal/device-session/service/MutexService.ts"],
  "sourcesContent": ["export class MutexService {\n  private _queue: Array<() => void> = [];\n  private _locked = false;\n\n  async lock(): Promise<() => void> {\n    return new Promise((resolve) => {\n      const release = () => {\n        this._locked = false;\n        if (this._queue.length > 0) {\n          const next = this._queue.shift();\n          this._locked = true;\n          next!();\n        }\n      };\n\n      if (!this._locked) {\n        this._locked = true;\n        resolve(release);\n      } else {\n        this._queue.push(() => resolve(release));\n      }\n    });\n  }\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,kBAAAE,IAAA,eAAAC,EAAAH,GAAO,MAAME,CAAa,CAChB,OAA4B,CAAC,EAC7B,QAAU,GAElB,MAAM,MAA4B,CAChC,OAAO,IAAI,QAASE,GAAY,CAC9B,MAAMC,EAAU,IAAM,CAEpB,GADA,KAAK,QAAU,GACX,KAAK,OAAO,OAAS,EAAG,CAC1B,MAAMC,EAAO,KAAK,OAAO,MAAM,EAC/B,KAAK,QAAU,GACfA,EAAM,CACR,CACF,EAEK,KAAK,QAIR,KAAK,OAAO,KAAK,IAAMF,EAAQC,CAAO,CAAC,GAHvC,KAAK,QAAU,GACfD,EAAQC,CAAO,EAInB,CAAC,CACH,CACF",
  "names": ["MutexService_exports", "__export", "MutexService", "__toCommonJS", "resolve", "release", "next"]
}

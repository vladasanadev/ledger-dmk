"use strict";var t=require("./RefresherService");let e;describe("RefresherService",()=>{let o;const s=vi.fn(()=>o);beforeEach(()=>{e={start:vi.fn(),stop:vi.fn()},o={info:vi.fn(),warn:vi.fn(),error:vi.fn(),debug:vi.fn(),subscribers:[]}}),it("should be created",()=>{const r=new t.RefresherService(s,e);expect(r).toBeDefined()}),describe("with only 1 blocker",()=>{it("should disable the refresher",()=>{new t.RefresherService(s,e).disableRefresher("test"),expect(e.stop).toHaveBeenCalled()}),it("should reenable the refresher",()=>{new t.RefresherService(s,e).disableRefresher("test")(),expect(e.stop).toHaveBeenCalled(),expect(e.start).toHaveBeenCalled()})}),describe("with 2+ blockers",()=>{it("should not disable the refresher a second time",()=>{const r=new t.RefresherService(s,e);r.disableRefresher("test"),r.disableRefresher("test-2"),expect(e.stop).toHaveBeenCalledTimes(1)}),it("should reenable the refresher when the last blocker is removed",()=>{const r=new t.RefresherService(s,e),i=r.disableRefresher("test"),l=r.disableRefresher("test-2");expect(e.stop).toHaveBeenCalledTimes(1),i(),expect(e.start).not.toHaveBeenCalled(),l(),expect(e.start).toHaveBeenCalled()})})});
//# sourceMappingURL=RefresherService.test.js.map

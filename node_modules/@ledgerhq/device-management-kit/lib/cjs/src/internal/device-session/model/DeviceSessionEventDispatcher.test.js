"use strict";var e=require("vitest"),i=require("./DeviceSessionEventDispatcher");(0,e.describe)("DeviceSessionEventDispatcher",()=>{let a;beforeEach(()=>{a=new i.DeviceSessionEventDispatcher}),(0,e.it)("should dispatch and receive an event without payload",()=>new Promise((o,c)=>{const t={eventName:i.SessionEvents.REFRESH_NEEDED,eventData:void 0},n=a.listen().subscribe(r=>{try{(0,e.expect)(r).toEqual(t),o(void 0)}catch(s){c(s)}finally{n.unsubscribe()}});a.dispatch(t)})),(0,e.it)("should dispatch and receive a COMMAND_SUCCEEDED event with payload",()=>new Promise((o,c)=>{const t={status:"success",data:{someField:"dummyValue"}},n={eventName:i.SessionEvents.COMMAND_SUCCEEDED,eventData:t},r=a.listen().subscribe(s=>{if(s.eventName===i.SessionEvents.COMMAND_SUCCEEDED)try{(0,e.expect)(s).toEqual(n),o(void 0)}catch(E){c(E)}finally{r.unsubscribe()}});a.dispatch(n)})),(0,e.it)("should dispatch multiple events",()=>new Promise((o,c)=>{const t=[{eventName:i.SessionEvents.DEVICE_STATE_UPDATE_BUSY,eventData:void 0},{eventName:i.SessionEvents.DEVICE_STATE_UPDATE_CONNECTED,eventData:void 0}],n=[],r=a.listen().subscribe(s=>{if(n.push(s),n.length===t.length)try{(0,e.expect)(n).toEqual(t),o(void 0)}catch(E){c(E)}finally{r.unsubscribe()}});t.forEach(s=>a.dispatch(s))}))});
//# sourceMappingURL=DeviceSessionEventDispatcher.test.js.map

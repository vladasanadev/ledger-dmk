{
  "version": 3,
  "sources": ["../../../../../../src/internal/discovery/use-case/GetConnectedDeviceUseCase.ts"],
  "sourcesContent": ["import { inject, injectable } from \"inversify\";\n\nimport { DeviceSessionId } from \"@api/device-session/types\";\nimport { LoggerPublisherService } from \"@api/logger-publisher/service/LoggerPublisherService\";\nimport { ConnectedDevice } from \"@api/transport/model/ConnectedDevice\";\nimport { deviceSessionTypes } from \"@internal/device-session/di/deviceSessionTypes\";\nimport type { DeviceSessionService } from \"@internal/device-session/service/DeviceSessionService\";\nimport { loggerTypes } from \"@internal/logger-publisher/di/loggerTypes\";\n\nexport type GetConnectedDeviceUseCaseArgs = {\n  sessionId: DeviceSessionId;\n};\n\n/**\n * Get a connected device from deviceSession id.\n */\n@injectable()\nexport class GetConnectedDeviceUseCase {\n  private readonly _sessionService: DeviceSessionService;\n  private readonly _logger: LoggerPublisherService;\n\n  constructor(\n    @inject(deviceSessionTypes.DeviceSessionService)\n    sessionService: DeviceSessionService,\n    @inject(loggerTypes.LoggerPublisherServiceFactory)\n    loggerFactory: (tag: string) => LoggerPublisherService,\n  ) {\n    this._sessionService = sessionService;\n    this._logger = loggerFactory(\"GetConnectedDeviceUseCase\");\n  }\n\n  execute({ sessionId }: GetConnectedDeviceUseCaseArgs): ConnectedDevice {\n    const deviceSessionOrError =\n      this._sessionService.getDeviceSessionById(sessionId);\n\n    return deviceSessionOrError.caseOf({\n      Right: (deviceSession) =>\n        new ConnectedDevice({\n          sessionId: deviceSession.id,\n          transportConnectedDevice: deviceSession.connectedDevice,\n        }),\n      Left: (error) => {\n        this._logger.error(\"Error getting session\", {\n          data: { error },\n        });\n        throw error;\n      },\n    });\n  }\n}\n"],
  "mappings": "okBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,+BAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAmC,qBAInCC,EAAgC,gDAChCC,EAAmC,0DAEnCC,EAA4B,qDAUrB,IAAMC,EAAN,KAAgC,CACpB,gBACA,QAEjB,YAEEC,EAEAC,EACA,CACA,KAAK,gBAAkBD,EACvB,KAAK,QAAUC,EAAc,2BAA2B,CAC1D,CAEA,QAAQ,CAAE,UAAAC,CAAU,EAAmD,CAIrE,OAFE,KAAK,gBAAgB,qBAAqBA,CAAS,EAEzB,OAAO,CACjC,MAAQC,GACN,IAAI,kBAAgB,CAClB,UAAWA,EAAc,GACzB,yBAA0BA,EAAc,eAC1C,CAAC,EACH,KAAOC,GAAU,CACf,WAAK,QAAQ,MAAM,wBAAyB,CAC1C,KAAM,CAAE,MAAAA,CAAM,CAChB,CAAC,EACKA,CACR,CACF,CAAC,CACH,CACF,EAhCaL,EAANM,EAAA,IADN,cAAW,EAMPC,EAAA,eAAO,qBAAmB,oBAAoB,GAE9CA,EAAA,eAAO,cAAY,6BAA6B,IAPxCP",
  "names": ["GetConnectedDeviceUseCase_exports", "__export", "GetConnectedDeviceUseCase", "__toCommonJS", "import_inversify", "import_ConnectedDevice", "import_deviceSessionTypes", "import_loggerTypes", "GetConnectedDeviceUseCase", "sessionService", "loggerFactory", "sessionId", "deviceSession", "error", "__decorateClass", "__decorateParam"]
}

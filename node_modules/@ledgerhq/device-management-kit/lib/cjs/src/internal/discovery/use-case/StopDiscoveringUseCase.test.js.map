{
  "version": 3,
  "sources": ["../../../../../../src/internal/discovery/use-case/StopDiscoveringUseCase.test.ts"],
  "sourcesContent": ["import { TransportMock } from \"@api/transport/model/__mocks__/TransportMock\";\nimport { type LoggerPublisherService, type Transport } from \"@api/types\";\nimport { DefaultTransportService } from \"@internal/transport/service/DefaultTransportService\";\nimport { type TransportService } from \"@internal/transport/service/TransportService\";\n\nimport { StopDiscoveringUseCase } from \"./StopDiscoveringUseCase\";\n\nvi.mock(\"@internal/transport/service/DefaultTransportService\");\n\n// TODO test several transports\nlet transport: Transport;\nlet transport2: Transport;\nlet transports: Transport[];\nlet transportService: TransportService;\nlet logger: LoggerPublisherService;\n\ndescribe(\"StopDiscoveringUseCase\", () => {\n  beforeEach(() => {\n    transport = new TransportMock();\n    transport2 = new TransportMock();\n    transports = [transport, transport2];\n    logger = {\n      debug: vi.fn(),\n    } as unknown as LoggerPublisherService;\n    // @ts-expect-error mock\n    transportService = new DefaultTransportService(transports);\n  });\n\n  afterEach(() => {\n    vi.clearAllMocks();\n  });\n\n  test(\"should call stop discovering\", async () => {\n    vi.spyOn(transport, \"stopDiscovering\").mockImplementation(vi.fn());\n    vi.spyOn(transport2, \"stopDiscovering\").mockImplementation(async () =>\n      Promise.resolve(undefined),\n    );\n\n    vi.spyOn(transportService, \"getAllTransports\").mockReturnValue(transports);\n\n    const usecase = new StopDiscoveringUseCase(\n      transportService,\n      vi.fn().mockImplementation(() => logger),\n    );\n\n    await usecase.execute();\n\n    expect(transport.stopDiscovering).toHaveBeenCalled();\n    expect(transport2.stopDiscovering).toHaveBeenCalled();\n  });\n});\n"],
  "mappings": "aAAA,IAAAA,EAA8B,wDAE9BC,EAAwC,+DAGxCC,EAAuC,oCAEvC,GAAG,KAAK,qDAAqD,EAG7D,IAAIC,EACAC,EACAC,EACAC,EACAC,EAEJ,SAAS,yBAA0B,IAAM,CACvC,WAAW,IAAM,CACfJ,EAAY,IAAI,gBAChBC,EAAa,IAAI,gBACjBC,EAAa,CAACF,EAAWC,CAAU,EACnCG,EAAS,CACP,MAAO,GAAG,GAAG,CACf,EAEAD,EAAmB,IAAI,0BAAwBD,CAAU,CAC3D,CAAC,EAED,UAAU,IAAM,CACd,GAAG,cAAc,CACnB,CAAC,EAED,KAAK,+BAAgC,SAAY,CAC/C,GAAG,MAAMF,EAAW,iBAAiB,EAAE,mBAAmB,GAAG,GAAG,CAAC,EACjE,GAAG,MAAMC,EAAY,iBAAiB,EAAE,mBAAmB,SACzD,QAAQ,QAAQ,MAAS,CAC3B,EAEA,GAAG,MAAME,EAAkB,kBAAkB,EAAE,gBAAgBD,CAAU,EAOzE,MALgB,IAAI,yBAClBC,EACA,GAAG,GAAG,EAAE,mBAAmB,IAAMC,CAAM,CACzC,EAEc,QAAQ,EAEtB,OAAOJ,EAAU,eAAe,EAAE,iBAAiB,EACnD,OAAOC,EAAW,eAAe,EAAE,iBAAiB,CACtD,CAAC,CACH,CAAC",
  "names": ["import_TransportMock", "import_DefaultTransportService", "import_StopDiscoveringUseCase", "transport", "transport2", "transports", "transportService", "logger"]
}

{
  "version": 3,
  "sources": ["../../../../../../src/internal/discovery/use-case/ListenToConnectedDeviceUseCase.ts"],
  "sourcesContent": ["import { inject, injectable } from \"inversify\";\nimport { map, Observable } from \"rxjs\";\n\nimport { LoggerPublisherService } from \"@api/logger-publisher/service/LoggerPublisherService\";\nimport { ConnectedDevice } from \"@api/transport/model/ConnectedDevice\";\nimport { deviceSessionTypes } from \"@internal/device-session/di/deviceSessionTypes\";\nimport type { DeviceSessionService } from \"@internal/device-session/service/DeviceSessionService\";\nimport { loggerTypes } from \"@internal/logger-publisher/di/loggerTypes\";\n\n/**\n * Listen to connected devices\n */\n@injectable()\nexport class ListenToConnectedDeviceUseCase {\n  private readonly _logger: LoggerPublisherService;\n\n  constructor(\n    @inject(deviceSessionTypes.DeviceSessionService)\n    private readonly _sessionService: DeviceSessionService,\n    @inject(loggerTypes.LoggerPublisherServiceFactory)\n    loggerFactory: (tag: string) => LoggerPublisherService,\n  ) {\n    this._logger = loggerFactory(\"ListenToConnectedDeviceUseCase\");\n  }\n\n  execute(): Observable<ConnectedDevice> {\n    this._logger.info(\"Observe connected devices\");\n    return this._sessionService.sessionsObs.pipe(\n      map(\n        (deviceSession) =>\n          new ConnectedDevice({\n            transportConnectedDevice: deviceSession.connectedDevice,\n            sessionId: deviceSession.id,\n          }),\n      ),\n    );\n  }\n}\n"],
  "mappings": "okBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,oCAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAmC,qBACnCC,EAAgC,gBAGhCC,EAAgC,gDAChCC,EAAmC,0DAEnCC,EAA4B,qDAMrB,IAAMC,EAAN,KAAqC,CAG1C,YAEmBC,EAEjBC,EACA,CAHiB,qBAAAD,EAIjB,KAAK,QAAUC,EAAc,gCAAgC,CAC/D,CATiB,QAWjB,SAAuC,CACrC,YAAK,QAAQ,KAAK,2BAA2B,EACtC,KAAK,gBAAgB,YAAY,QACtC,OACGC,GACC,IAAI,kBAAgB,CAClB,yBAA0BA,EAAc,gBACxC,UAAWA,EAAc,EAC3B,CAAC,CACL,CACF,CACF,CACF,EAxBaH,EAANI,EAAA,IADN,cAAW,EAKPC,EAAA,eAAO,qBAAmB,oBAAoB,GAE9CA,EAAA,eAAO,cAAY,6BAA6B,IANxCL",
  "names": ["ListenToConnectedDeviceUseCase_exports", "__export", "ListenToConnectedDeviceUseCase", "__toCommonJS", "import_inversify", "import_rxjs", "import_ConnectedDevice", "import_deviceSessionTypes", "import_loggerTypes", "ListenToConnectedDeviceUseCase", "_sessionService", "loggerFactory", "deviceSession", "__decorateClass", "__decorateParam"]
}

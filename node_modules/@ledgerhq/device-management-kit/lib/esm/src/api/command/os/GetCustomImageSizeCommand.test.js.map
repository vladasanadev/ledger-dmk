{
  "version": 3,
  "sources": ["../../../../../../src/api/command/os/GetCustomImageSizeCommand.test.ts"],
  "sourcesContent": ["import { InvalidStatusWordError } from \"@api/command/Errors\";\nimport { CommandResultFactory } from \"@api/command/model/CommandResult\";\nimport { isSuccessCommandResult } from \"@api/command/model/CommandResult\";\nimport { GetCustomImageSizeCommand } from \"@api/command/os/GetCustomImageSizeCommand\";\nimport { ApduResponse } from \"@api/device-session/ApduResponse\";\n\nconst IMAGE_SIZE_APDU = new Uint8Array([0xe0, 0x64, 0x00, 0x00, 0x00]);\n\ndescribe(\"GetCustomImageSizeCommand\", () => {\n  let command: GetCustomImageSizeCommand;\n\n  beforeEach(() => {\n    command = new GetCustomImageSizeCommand();\n  });\n\n  describe(\"name\", () => {\n    it(\"should be 'getCustomImageSize'\", () => {\n      expect(command.name).toBe(\"getCustomImageSize\");\n    });\n  });\n\n  it(\"should return the correct APDU\", () => {\n    const apdu = command.getApdu();\n    expect(apdu.getRawApdu()).toStrictEqual(IMAGE_SIZE_APDU);\n  });\n\n  it(\"should parse result successfully\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([0x00, 0x00, 0x89, 0xe9]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        data: 35305,\n      }),\n    );\n  });\n\n  it(\"should fail on invalid size\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x90, 0x00]),\n      data: new Uint8Array([0xe9]),\n    });\n    const result = command.parseResponse(response);\n    expect(result).toStrictEqual(\n      CommandResultFactory({\n        error: new InvalidStatusWordError(\"Didn't receive any size\"),\n      }),\n    );\n  });\n\n  it(\"should fail on device error\", () => {\n    const response: ApduResponse = new ApduResponse({\n      statusCode: new Uint8Array([0x66, 0x2e]),\n      data: new Uint8Array([]),\n    });\n    const result = command.parseResponse(response);\n    expect(isSuccessCommandResult(result)).toBeFalsy();\n  });\n});\n"],
  "mappings": "AAAA,OAAS,0BAAAA,MAA8B,sBACvC,OAAS,wBAAAC,MAA4B,mCACrC,OAAS,0BAAAC,MAA8B,mCACvC,OAAS,6BAAAC,MAAiC,4CAC1C,OAAS,gBAAAC,MAAoB,mCAE7B,MAAMC,EAAkB,IAAI,WAAW,CAAC,IAAM,IAAM,EAAM,EAAM,CAAI,CAAC,EAErE,SAAS,4BAA6B,IAAM,CAC1C,IAAIC,EAEJ,WAAW,IAAM,CACfA,EAAU,IAAIH,CAChB,CAAC,EAED,SAAS,OAAQ,IAAM,CACrB,GAAG,iCAAkC,IAAM,CACzC,OAAOG,EAAQ,IAAI,EAAE,KAAK,oBAAoB,CAChD,CAAC,CACH,CAAC,EAED,GAAG,iCAAkC,IAAM,CACzC,MAAMC,EAAOD,EAAQ,QAAQ,EAC7B,OAAOC,EAAK,WAAW,CAAC,EAAE,cAAcF,CAAe,CACzD,CAAC,EAED,GAAG,mCAAoC,IAAM,CAC3C,MAAMG,EAAyB,IAAIJ,EAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,EAAM,EAAM,IAAM,GAAI,CAAC,CAC/C,CAAC,EACKK,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,cACbR,EAAqB,CACnB,KAAM,KACR,CAAC,CACH,CACF,CAAC,EAED,GAAG,8BAA+B,IAAM,CACtC,MAAMO,EAAyB,IAAIJ,EAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,GAAI,CAAC,CAC7B,CAAC,EACKK,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAOC,CAAM,EAAE,cACbR,EAAqB,CACnB,MAAO,IAAID,EAAuB,yBAAyB,CAC7D,CAAC,CACH,CACF,CAAC,EAED,GAAG,8BAA+B,IAAM,CACtC,MAAMQ,EAAyB,IAAIJ,EAAa,CAC9C,WAAY,IAAI,WAAW,CAAC,IAAM,EAAI,CAAC,EACvC,KAAM,IAAI,WAAW,CAAC,CAAC,CACzB,CAAC,EACKK,EAASH,EAAQ,cAAcE,CAAQ,EAC7C,OAAON,EAAuBO,CAAM,CAAC,EAAE,UAAU,CACnD,CAAC,CACH,CAAC",
  "names": ["InvalidStatusWordError", "CommandResultFactory", "isSuccessCommandResult", "GetCustomImageSizeCommand", "ApduResponse", "IMAGE_SIZE_APDU", "command", "apdu", "response", "result"]
}

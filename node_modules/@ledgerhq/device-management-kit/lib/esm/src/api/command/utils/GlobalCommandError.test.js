import{GlobalCommandError as i,GlobalCommandErrorHandler as a}from"../../command/utils/GlobalCommandError";import{ApduResponse as d}from"../../device-session/ApduResponse";import{isCommandErrorCode as t}from"./CommandErrors";const c=[[Uint8Array.from([85,21]),"DeviceLockedError","device locked error"],[Uint8Array.from([85,1]),"ActionRefusedError","action refused error"],[Uint8Array.from([85,2]),"PinNotSetError","pin not set error"],[Uint8Array.from([82,35]),"DeviceInternalError","device internal error"]];describe("GlobalCommandError",()=>{describe.each(c)("GlobalCommandErrorHandler",(e,r,n)=>{it(`should return a ${n}`,()=>{const s=new d({statusCode:e,data:Uint8Array.from([])}),o=a.handle(s);expect(o).toBeInstanceOf(i),expect(o._tag).toStrictEqual(r)})}),describe("isCommandErrorCode",()=>{it("should return true if command error code is in list",()=>{const r=t("4242",{4242:{message:"test"}});expect(r).toBe(!0)}),it("should return false if command error code is not in list",()=>{const r=t("2121",{4242:{message:"test"}});expect(r).toBe(!1)})})});
//# sourceMappingURL=GlobalCommandError.test.js.map

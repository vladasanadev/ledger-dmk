{
  "version": 3,
  "sources": ["../../../../../../../src/api/secure-channel/device-action/InstallApp/InstallAppDeviceAction.test.ts"],
  "sourcesContent": ["import { Right } from \"purify-ts\";\nimport { of, throwError } from \"rxjs\";\n\nimport { CommandResultFactory } from \"@api/command/model/CommandResult\";\nimport { type GetOsVersionResponse } from \"@api/command/os/GetOsVersionCommand\";\nimport { DeviceStatus } from \"@api/device/DeviceStatus\";\nimport { makeDeviceActionInternalApiMock } from \"@api/device-action/__test-utils__/makeInternalApi\";\nimport {\n  setupGoToDashboardMock,\n  setupListInstalledAppsMock,\n} from \"@api/device-action/__test-utils__/setupTestMachine\";\nimport { testDeviceActionStates } from \"@api/device-action/__test-utils__/testDeviceActionStates\";\nimport { DeviceActionStatus } from \"@api/device-action/model/DeviceActionState\";\nimport { UserInteractionRequired } from \"@api/device-action/model/UserInteractionRequired\";\nimport { UnknownDAError } from \"@api/device-action/os/Errors\";\nimport {\n  type DeviceSessionState,\n  DeviceSessionStateType,\n} from \"@api/device-session/DeviceSessionState\";\nimport { type InstalledApp } from \"@api/secure-channel/device-action/ListInstalledApps/types\";\nimport {\n  type SecureChannelEventPayload,\n  SecureChannelEventType,\n} from \"@api/secure-channel/task/types\";\nimport { type Application } from \"@internal/manager-api/model/Application\";\nimport { SecureChannelError } from \"@internal/secure-channel/model/Errors\";\n\nimport { InstallAppDeviceAction } from \"./InstallAppDeviceAction\";\nimport { type InstallAppDAState } from \"./types\";\n\nvi.mock(\n  \"@api/secure-channel/device-action/ListInstalledApps/ListInstalledAppsDeviceAction\",\n);\nvi.mock(\"@api/device-action/os/GoToDashboard/GoToDashboardDeviceAction\");\n\ndescribe(\"InstallAppDeviceAction\", () => {\n  const getOsVersionMock = vi.fn();\n  const getAppListMock = vi.fn();\n  const installAppMock = vi.fn();\n  const getDeviceSessionStateMock = vi.fn();\n  const setDeviceSessionStateMock = vi.fn();\n  const extractDependenciesMock = () => ({\n    getOsVersion: getOsVersionMock,\n    getAppList: getAppListMock,\n    installApp: installAppMock,\n    getDeviceSessionState: getDeviceSessionStateMock,\n    setDeviceSessionState: setDeviceSessionStateMock,\n  });\n\n  beforeEach(() => {\n    vi.resetAllMocks();\n  });\n\n  it(\"should finish successfully when the app is already installed on the device\", () =>\n    new Promise<void>((resolve, reject) => {\n      setupListInstalledAppsMock([\n        { installedApps: [{ name: \"Bitcoin\" } as InstalledApp] },\n      ]);\n\n      const expectedStates: Array<InstallAppDAState> = [\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Completed,\n          output: undefined,\n        },\n      ];\n\n      const installAppDeviceAction = new InstallAppDeviceAction({\n        input: { appName: \"Bitcoin\" },\n      });\n      vi.spyOn(\n        installAppDeviceAction,\n        \"extractDependencies\",\n      ).mockImplementation(extractDependenciesMock);\n\n      testDeviceActionStates(\n        installAppDeviceAction,\n        expectedStates,\n        makeDeviceActionInternalApiMock(),\n        {\n          onDone: resolve,\n          onError: reject,\n        },\n      );\n    }));\n  it(\"should finish successfully when the app is not installed\", () =>\n    new Promise<void>((resolve, reject) => {\n      setupListInstalledAppsMock([\n        { installedApps: [] },\n        { installedApps: [{ name: \"Bitcoin\" } as InstalledApp] },\n      ]);\n      setupGoToDashboardMock();\n      getOsVersionMock.mockResolvedValue(\n        CommandResultFactory({\n          data: {\n            targetId: 12345678,\n            secureElementFlags: {\n              isSecureConnectionAllowed: true,\n            },\n          } as GetOsVersionResponse,\n        }),\n      );\n      getDeviceSessionStateMock.mockReturnValue({\n        sessionStateType: DeviceSessionStateType.ReadyWithoutSecureChannel,\n        deviceStatus: DeviceStatus.CONNECTED,\n        currentApp: { name: \"BOLOS\", version: \"0.0.0\" },\n        isSecureConnectionAllowed: false,\n      });\n      getAppListMock.mockResolvedValue(\n        Right([\n          {\n            versionName: \"Bitcoin\",\n            perso: \"test_perso\",\n            firmware: \"test_firmware_for_bitcoin\",\n            firmwareKey: \"test_firmware_key_for_bitcoin\",\n            hash: \"test_hash_for_bitcoin\",\n          } as Application,\n        ]),\n      );\n      installAppMock.mockImplementation(() =>\n        of(\n          {\n            type: SecureChannelEventType.Progress,\n            payload: {\n              progress: 0,\n            } as SecureChannelEventPayload[\"Progress\"],\n          },\n          {\n            type: SecureChannelEventType.Progress,\n            payload: {\n              progress: 0.55,\n            } as SecureChannelEventPayload[\"Progress\"],\n          },\n          {\n            type: SecureChannelEventType.Progress,\n            payload: {\n              progress: 1,\n            } as SecureChannelEventPayload[\"Progress\"],\n          },\n        ),\n      );\n\n      const expectedStates: Array<InstallAppDAState> = [\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0.55,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 1,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 1,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 1,\n          },\n        },\n        {\n          status: DeviceActionStatus.Completed,\n          output: undefined,\n        },\n      ];\n\n      const installAppDeviceAction = new InstallAppDeviceAction({\n        input: { appName: \"Bitcoin\" },\n      });\n      vi.spyOn(\n        installAppDeviceAction,\n        \"extractDependencies\",\n      ).mockImplementation(extractDependenciesMock);\n\n      testDeviceActionStates(\n        installAppDeviceAction,\n        expectedStates,\n        makeDeviceActionInternalApiMock(),\n        {\n          onDone: resolve,\n          onError: reject,\n        },\n      );\n    }));\n  it(\"should finish unsuccessfully when the dep app is not installed\", () =>\n    new Promise<void>((resolve, reject) => {\n      setupListInstalledAppsMock([{ installedApps: [] }]);\n      setupGoToDashboardMock();\n      getOsVersionMock.mockResolvedValue(\n        CommandResultFactory({\n          data: {\n            targetId: 12345678,\n            secureElementFlags: {\n              isSecureConnectionAllowed: true,\n            },\n          } as GetOsVersionResponse,\n        }),\n      );\n      getDeviceSessionStateMock.mockReturnValue({\n        sessionStateType: DeviceSessionStateType.ReadyWithoutSecureChannel,\n        deviceStatus: DeviceStatus.CONNECTED,\n        currentApp: { name: \"BOLOS\", version: \"0.0.0\" },\n        isSecureConnectionAllowed: false,\n      });\n      getAppListMock.mockResolvedValue(\n        Right([\n          {\n            versionName: \"Bitcoin\",\n            parentName: \"test_parent\",\n          } as Application,\n        ]),\n      );\n\n      const expectedStates: Array<InstallAppDAState> = [\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Error,\n          error: new UnknownDAError(\"Dep app is not installed on the device\"),\n        },\n      ];\n\n      const installAppDeviceAction = new InstallAppDeviceAction({\n        input: { appName: \"Bitcoin\" },\n      });\n      vi.spyOn(\n        installAppDeviceAction,\n        \"extractDependencies\",\n      ).mockImplementation(extractDependenciesMock);\n\n      testDeviceActionStates(\n        installAppDeviceAction,\n        expectedStates,\n        makeDeviceActionInternalApiMock(),\n        {\n          onDone: resolve,\n          onError: reject,\n        },\n      );\n    }));\n  it(\"should finish unsuccessfully when the app is not found in manager API\", () =>\n    new Promise<void>((resolve, reject) => {\n      setupListInstalledAppsMock([{ installedApps: [] }]);\n      setupGoToDashboardMock();\n      getOsVersionMock.mockResolvedValue(\n        CommandResultFactory({\n          data: {\n            targetId: 12345678,\n            secureElementFlags: {\n              isSecureConnectionAllowed: true,\n            },\n          } as GetOsVersionResponse,\n        }),\n      );\n      getDeviceSessionStateMock.mockReturnValue({} as DeviceSessionState);\n      getAppListMock.mockResolvedValueOnce(Right([]));\n\n      const expectedStates: Array<InstallAppDAState> = [\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Error,\n          error: new UnknownDAError(\"App to install not found in manager API\"),\n        },\n      ];\n\n      const installAppDeviceAction = new InstallAppDeviceAction({\n        input: { appName: \"Bitcoin\" },\n      });\n      vi.spyOn(\n        installAppDeviceAction,\n        \"extractDependencies\",\n      ).mockImplementation(extractDependenciesMock);\n\n      testDeviceActionStates(\n        installAppDeviceAction,\n        expectedStates,\n        makeDeviceActionInternalApiMock(),\n        {\n          onDone: resolve,\n          onError: reject,\n        },\n      );\n    }));\n\n  it(\"should finish unsuccessfully when there is error in installApp\", () =>\n    new Promise<void>((resolve, reject) => {\n      setupListInstalledAppsMock([{ installedApps: [] }]);\n      setupGoToDashboardMock();\n      getOsVersionMock.mockResolvedValue(\n        CommandResultFactory({\n          data: {\n            targetId: 12345678,\n            secureElementFlags: {\n              isSecureConnectionAllowed: true,\n            },\n          } as GetOsVersionResponse,\n        }),\n      );\n      getDeviceSessionStateMock.mockReturnValue({} as DeviceSessionState);\n      getAppListMock.mockResolvedValueOnce(\n        Right([{ versionName: \"Bitcoin\" } as Application]),\n      );\n      installAppMock.mockReturnValue(\n        throwError(\n          () => new SecureChannelError(\"Install app error in secure channel\"),\n        ),\n      );\n\n      const expectedStates: Array<InstallAppDAState> = [\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Pending,\n          intermediateValue: {\n            requiredUserInteraction: UserInteractionRequired.None,\n            progress: 0,\n          },\n        },\n        {\n          status: DeviceActionStatus.Error,\n          error: new SecureChannelError(\"Install app error in secure channel\"),\n        },\n      ];\n\n      const installAppDeviceAction = new InstallAppDeviceAction({\n        input: { appName: \"Bitcoin\" },\n      });\n      vi.spyOn(\n        installAppDeviceAction,\n        \"extractDependencies\",\n      ).mockImplementation(extractDependenciesMock);\n\n      testDeviceActionStates(\n        installAppDeviceAction,\n        expectedStates,\n        makeDeviceActionInternalApiMock(),\n        {\n          onDone: resolve,\n          onError: reject,\n        },\n      );\n    }));\n});\n"],
  "mappings": "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",
  "names": ["Right", "of", "throwError", "CommandResultFactory", "DeviceStatus", "makeDeviceActionInternalApiMock", "setupGoToDashboardMock", "setupListInstalledAppsMock", "testDeviceActionStates", "DeviceActionStatus", "UserInteractionRequired", "UnknownDAError", "DeviceSessionStateType", "SecureChannelEventType", "SecureChannelError", "InstallAppDeviceAction", "getOsVersionMock", "getAppListMock", "installAppMock", "getDeviceSessionStateMock", "setDeviceSessionStateMock", "extractDependenciesMock", "resolve", "reject", "expectedStates", "installAppDeviceAction"]
}

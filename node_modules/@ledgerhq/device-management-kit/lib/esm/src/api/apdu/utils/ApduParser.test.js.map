{
  "version": 3,
  "sources": ["../../../../../../src/api/apdu/utils/ApduParser.test.ts"],
  "sourcesContent": ["import { ApduResponse } from \"@api/device-session/ApduResponse\";\n\nimport { ApduParser } from \"./ApduParser\";\n\nconst STATUS_WORD_SUCCESS = new Uint8Array([0x90, 0x00]);\nconst RESPONSE_ONE_BYTE = new Uint8Array([0x01]);\nconst RESPONSE_LV_ZERO = new Uint8Array([0x00]);\nconst RESPONSE_ALL_BYTES = new Uint8Array([\n  0x01,\n  0x02,\n  0x03,\n  ...Array<number>(253).fill(0xaa),\n]);\n\nlet parser: ApduParser;\nlet response: ApduResponse = new ApduResponse({\n  statusCode: STATUS_WORD_SUCCESS,\n  data: RESPONSE_ONE_BYTE,\n});\n\ndescribe(\"ApduParser\", () => {\n  it(\"should create an instance\", () => {\n    parser = new ApduParser(response);\n    expect(parser).toBeDefined();\n    expect(parser).toBeInstanceOf(ApduParser);\n  });\n\n  it(\"Extract a single byte\", () => {\n    parser = new ApduParser(response);\n    expect(parser.extract8BitUInt()).toBe(0x01);\n  });\n\n  it(\"Extract 16-bit & 32-bit number\", () => {\n    response = new ApduResponse({\n      statusCode: STATUS_WORD_SUCCESS,\n      data: RESPONSE_ALL_BYTES,\n    });\n    parser = new ApduParser(response);\n    expect(parser.extract16BitUInt()).toBe(0x0102);\n    expect(parser.extract16BitUInt()).toBe(0x03aa);\n  });\n\n  it(\"Test zero length\", () => {\n    response = new ApduResponse({\n      statusCode: STATUS_WORD_SUCCESS,\n      data: RESPONSE_LV_ZERO,\n    });\n    parser = new ApduParser(response);\n    const value = parser.extract8BitUInt();\n    expect(value).toBe(0);\n  });\n});\n"],
  "mappings": "AAAA,OAAS,gBAAAA,MAAoB,mCAE7B,OAAS,cAAAC,MAAkB,eAE3B,MAAMC,EAAsB,IAAI,WAAW,CAAC,IAAM,CAAI,CAAC,EACjDC,EAAoB,IAAI,WAAW,CAAC,CAAI,CAAC,EACzCC,EAAmB,IAAI,WAAW,CAAC,CAAI,CAAC,EACxCC,EAAqB,IAAI,WAAW,CACxC,EACA,EACA,EACA,GAAG,MAAc,GAAG,EAAE,KAAK,GAAI,CACjC,CAAC,EAED,IAAIC,EACAC,EAAyB,IAAIP,EAAa,CAC5C,WAAYE,EACZ,KAAMC,CACR,CAAC,EAED,SAAS,aAAc,IAAM,CAC3B,GAAG,4BAA6B,IAAM,CACpCG,EAAS,IAAIL,EAAWM,CAAQ,EAChC,OAAOD,CAAM,EAAE,YAAY,EAC3B,OAAOA,CAAM,EAAE,eAAeL,CAAU,CAC1C,CAAC,EAED,GAAG,wBAAyB,IAAM,CAChCK,EAAS,IAAIL,EAAWM,CAAQ,EAChC,OAAOD,EAAO,gBAAgB,CAAC,EAAE,KAAK,CAAI,CAC5C,CAAC,EAED,GAAG,iCAAkC,IAAM,CACzCC,EAAW,IAAIP,EAAa,CAC1B,WAAYE,EACZ,KAAMG,CACR,CAAC,EACDC,EAAS,IAAIL,EAAWM,CAAQ,EAChC,OAAOD,EAAO,iBAAiB,CAAC,EAAE,KAAK,GAAM,EAC7C,OAAOA,EAAO,iBAAiB,CAAC,EAAE,KAAK,GAAM,CAC/C,CAAC,EAED,GAAG,mBAAoB,IAAM,CAC3BC,EAAW,IAAIP,EAAa,CAC1B,WAAYE,EACZ,KAAME,CACR,CAAC,EACDE,EAAS,IAAIL,EAAWM,CAAQ,EAChC,MAAMC,EAAQF,EAAO,gBAAgB,EACrC,OAAOE,CAAK,EAAE,KAAK,CAAC,CACtB,CAAC,CACH,CAAC",
  "names": ["ApduResponse", "ApduParser", "STATUS_WORD_SUCCESS", "RESPONSE_ONE_BYTE", "RESPONSE_LV_ZERO", "RESPONSE_ALL_BYTES", "parser", "response", "value"]
}

import{Left as o,Right as a}from"purify-ts";import{assign as i,createMachine as r}from"xstate";import{UserInteractionRequired as p}from"../../device-action/model/UserInteractionRequired";import{UnknownDAError as c}from"../../device-action/os/Errors";import{GetDeviceMetadataDeviceAction as m}from"../../device-action/os/GetDeviceMetadata/GetDeviceMetadataDeviceAction";import{GetDeviceStatusDeviceAction as s}from"../../device-action/os/GetDeviceStatus/GetDeviceStatusDeviceAction";import{GoToDashboardDeviceAction as d}from"../../device-action/os/GoToDashboard/GoToDashboardDeviceAction";import{InstallOrUpdateAppsDeviceAction as l}from"../../device-action/os/InstallOrUpdateApps/InstallOrUpdateAppsDeviceAction";import{ListAppsDeviceAction as u}from"../../device-action/os/ListApps/ListAppsDeviceAction";import{OpenAppDeviceAction as f}from"../../device-action/os/OpenAppDeviceAction/OpenAppDeviceAction";import{ListInstalledAppsDeviceAction as A}from"../../secure-channel/device-action/ListInstalledApps/ListInstalledAppsDeviceAction";const V=(e,t=!1)=>{u.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockListAppsDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>({requiredUserInteraction:p.AllowListApps})})},done:{type:"final"}},output:()=>t?o(new c("ListApps failed")):a(e)}))}))},L=(e,t=!1)=>{m.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockGetDeviceMetadataDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>({requiredUserInteraction:p.None})})},done:{type:"final"}},output:()=>t?o(new c("GetDeviceMetadata failed")):a(e)}))}))},q=(e,t,n=!1)=>{l.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockInstallOrUpdateAppsDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>t})},done:{type:"final"}},output:()=>n?o(new c("InstallOrUpdateApps failed")):a(e)}))}))},w=(e=!1)=>{f.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({initial:"ready",states:{ready:{entry:i({intermediateValue:{requiredUserInteraction:p.ConfirmOpenApp}}),after:{0:"done"}},done:{type:"final"}},output:()=>e?o(new c("OpenApp failed")):a(void 0)}))}))},x=(e=!1)=>{d.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockGoToDashboardDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>({requiredUserInteraction:p.None})})},done:{type:"final"}},output:()=>e?o(new c("GoToDashboard failed")):a(void 0)}))}))},b=(e=[{currentApp:"BOLOS",currentAppVersion:"1.0.0"}])=>{const t=vi.fn();for(const n of e)t.mockImplementationOnce(()=>"currentApp"in n?a(n):o(n));s.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockGetDeviceStatusDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>({requiredUserInteraction:p.None})})},done:{type:"final"}},output:t}))}))},T=(e=[])=>{A.mockImplementation(()=>({makeStateMachine:vi.fn().mockImplementation(()=>r({id:"MockListInstalledAppsDeviceAction",initial:"ready",states:{ready:{after:{0:"done"},entry:i({intermediateValue:()=>({requiredUserInteraction:p.None})})},done:{type:"final"}},output:e.reduce((t,n)=>t.mockImplementationOnce(()=>"installedApps"in n?a(n):o(n)),vi.fn()).mockImplementation(()=>a([]))}))}))};export{L as setupGetDeviceMetadataMock,b as setupGetDeviceStatusMock,x as setupGoToDashboardMock,q as setupInstallOrUpdateAppsMock,V as setupListAppsMock,T as setupListInstalledAppsMock,w as setupOpenAppMock};
//# sourceMappingURL=setupTestMachine.js.map

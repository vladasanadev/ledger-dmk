import{LogLevel as c}from"../../logger-subscriber/model/LogLevel";import{DeviceSession as g}from"../../../internal/device-session/model/DeviceSession";function p(){const n=[];return function(r,e){if(e instanceof Uint8Array){const t=Array.from(e).map(o=>o.toString(16).padStart(2,"0"));return{hex:"0x"+t.join(""),readableHex:t.join(" "),value:e.toString()}}if(e instanceof g){const{connectedDevice:{deviceModel:t,type:o,id:i}}=e;return{id:e.id,connectedDevice:{deviceModel:t,type:o,id:i}}}if(typeof e!="object"||e===null)return e;for(;n.length>0&&n.at(-1)!==this;)n.pop();return n.includes(e)?"[Circular]":(n.push(e),e)}}class l{logs=[];log(r,e,t){this.logs.push([r,e,t])}formatLogsToJSON(){const r=this.logs.map(([e,t,o])=>{const{timestamp:i,...s}=o;return{level:c[e],message:t,options:{...s,date:new Date(o.timestamp)}}});return JSON.stringify(r,p(),2)}exportLogsToJSON(){const r=this.formatLogsToJSON(),e=new Blob([r],{type:"application/json"}),t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=`ledger-device-management-kit-logs-${new Date().toISOString()}.json`,o.click()}}export{l as WebLogsExporterLogger,p as getJSONStringifyReplacer};
//# sourceMappingURL=WebLogsExporterLogger.js.map

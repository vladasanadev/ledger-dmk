{
  "version": 3,
  "sources": ["../../../../../../src/api/logger-subscriber/service/WebLogsExporterLogger.test.ts"],
  "sourcesContent": ["import { deviceModelStubBuilder } from \"@api/device-model/model/DeviceModel.stub\";\nimport { type TransportConnectedDevice } from \"@api/transport/model/TransportConnectedDevice\";\nimport { DEVICE_SESSION_REFRESHER_DEFAULT_OPTIONS } from \"@internal/device-session/data/DeviceSessionRefresherConst\";\nimport { DeviceSession } from \"@internal/device-session/model/DeviceSession\";\nimport { type ManagerApiService } from \"@internal/manager-api/service/ManagerApiService\";\nimport { type SecureChannelService } from \"@internal/secure-channel/service/SecureChannelService\";\n\nimport { getJSONStringifyReplacer } from \"./WebLogsExporterLogger\";\n\ndescribe(\"getJSONStringifyReplacer\", () => {\n  it(\"should return a function that replaces Uint8Array correctly\", () => {\n    const replacer = getJSONStringifyReplacer();\n    const value = new Uint8Array([1, 2, 3]);\n    const result = replacer(\"key\", value);\n    expect(result).toEqual({\n      hex: \"0x010203\",\n      readableHex: \"01 02 03\",\n      value: \"1,2,3\",\n    });\n  });\n\n  it(\"should return a function that replaces DeviceSession\", () => {\n    const stubDeviceModel = deviceModelStubBuilder();\n    const replacer = getJSONStringifyReplacer();\n\n    const connectedDevice: TransportConnectedDevice = {\n      deviceModel: deviceModelStubBuilder(),\n      type: \"USB\",\n      id: \"mockedDeviceId\",\n      sendApdu: vi.fn(),\n      transport: \"USB\",\n    };\n\n    const value = new DeviceSession(\n      {\n        connectedDevice,\n        id: \"mockedSessionId\",\n      },\n      vi.fn(),\n      {} as ManagerApiService,\n      {} as SecureChannelService,\n      DEVICE_SESSION_REFRESHER_DEFAULT_OPTIONS,\n    );\n    const result = JSON.stringify(value, replacer);\n    const expected = `{\"id\":\"mockedSessionId\",\"connectedDevice\":{\"deviceModel\":${JSON.stringify(\n      stubDeviceModel,\n    )},\"type\":\"USB\",\"id\":\"mockedDeviceId\"}}`;\n    value.close();\n    expect(result).toEqual(expected);\n  });\n\n  it(\"should return a function that replaces circular references\", () => {\n    interface CircularObject {\n      name: string;\n      self?: CircularObject;\n    }\n\n    const obj: CircularObject = { name: \"Alice\" };\n    obj.self = obj;\n\n    const expected = '{\"name\":\"Alice\",\"self\":\"[Circular]\"}';\n    const result = JSON.stringify(obj, getJSONStringifyReplacer());\n    expect(result).toEqual(expected);\n  });\n});\n"],
  "mappings": "AAAA,OAAS,0BAAAA,MAA8B,2CAEvC,OAAS,4CAAAC,MAAgD,4DACzD,OAAS,iBAAAC,MAAqB,+CAI9B,OAAS,4BAAAC,MAAgC,0BAEzC,SAAS,2BAA4B,IAAM,CACzC,GAAG,8DAA+D,IAAM,CACtE,MAAMC,EAAWD,EAAyB,EACpCE,EAAQ,IAAI,WAAW,CAAC,EAAG,EAAG,CAAC,CAAC,EAChCC,EAASF,EAAS,MAAOC,CAAK,EACpC,OAAOC,CAAM,EAAE,QAAQ,CACrB,IAAK,WACL,YAAa,WACb,MAAO,OACT,CAAC,CACH,CAAC,EAED,GAAG,uDAAwD,IAAM,CAC/D,MAAMC,EAAkBP,EAAuB,EACzCI,EAAWD,EAAyB,EAEpCK,EAA4C,CAChD,YAAaR,EAAuB,EACpC,KAAM,MACN,GAAI,iBACJ,SAAU,GAAG,GAAG,EAChB,UAAW,KACb,EAEMK,EAAQ,IAAIH,EAChB,CACE,gBAAAM,EACA,GAAI,iBACN,EACA,GAAG,GAAG,EACN,CAAC,EACD,CAAC,EACDP,CACF,EACMK,EAAS,KAAK,UAAUD,EAAOD,CAAQ,EACvCK,EAAW,4DAA4D,KAAK,UAChFF,CACF,CAAC,wCACDF,EAAM,MAAM,EACZ,OAAOC,CAAM,EAAE,QAAQG,CAAQ,CACjC,CAAC,EAED,GAAG,6DAA8D,IAAM,CAMrE,MAAMC,EAAsB,CAAE,KAAM,OAAQ,EAC5CA,EAAI,KAAOA,EAEX,MAAMD,EAAW,uCACXH,EAAS,KAAK,UAAUI,EAAKP,EAAyB,CAAC,EAC7D,OAAOG,CAAM,EAAE,QAAQG,CAAQ,CACjC,CAAC,CACH,CAAC",
  "names": ["deviceModelStubBuilder", "DEVICE_SESSION_REFRESHER_DEFAULT_OPTIONS", "DeviceSession", "getJSONStringifyReplacer", "replacer", "value", "result", "stubDeviceModel", "connectedDevice", "expected", "obj"]
}

var s=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var f=(t,e,o,r)=>{for(var i=r>1?void 0:r?u(e,o):e,c=t.length-1,n;c>=0;c--)(n=t[c])&&(i=(r?n(e,o,i):n(i))||i);return r&&i&&s(e,o,i),i},a=(t,e)=>(o,r)=>e(o,r,t);import{inject as l,injectable as p}from"inversify";import{configTypes as m}from"../../config/di/configTypes";import{loggerTypes as C}from"../../logger-publisher/di/loggerTypes";let g=class{_local;_remote;_logger;constructor(e,o,r){this._local=e,this._remote=o,this._logger=r("config")}async getDmkConfig(){const e=this._local.getConfig().ifLeft(o=>{this._logger.error("Local config not available",{data:{error:o}})});if(e.isRight()){const o=e.extract();return this._logger.info("Local config available",{data:{config:o}}),o}return this._remote.getConfig().then(o=>o.mapLeft(r=>(this._logger.error("Local config available",{data:{error:r}}),{name:"DeadDmk",version:"0.0.0-dead.1"})).extract())}};g=f([p(),a(0,l(m.LocalConfigDataSource)),a(1,l(m.RemoteConfigDataSource)),a(2,l(C.LoggerPublisherServiceFactory))],g);export{g as DefaultConfigService};
//# sourceMappingURL=DefaultConfigService.js.map

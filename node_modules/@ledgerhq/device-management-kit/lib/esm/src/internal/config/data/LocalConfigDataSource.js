var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var s=(t,r,o,n)=>{for(var e=n>1?void 0:n?g(r,o):r,f=t.length-1,m;f>=0;f--)(m=t[f])&&(e=(n?m(r,o,e):m(e))||e);return n&&e&&c(r,o,e),e};import{injectable as l}from"inversify";import{Either as a}from"purify-ts";import{isConfig as u}from"../../config/model/Config";import{JSONParseError as w,ReadFileError as C}from"../../config/model/Errors";import p from"../../../../package.json";const E={name:p.name,version:p.version},h=()=>JSON.stringify(E);let i=class{getConfig(){return a.encase(()=>h()).mapLeft(r=>new C(r)).chain(r=>a.encase(()=>{const o=JSON.parse(r);if(u(o))return o;throw new Error("Invalid config file")}).mapLeft(o=>new w(o)))}};i=s([l()],i);export{i as FileLocalConfigDataSource,h as stubFsReadFile};
//# sourceMappingURL=LocalConfigDataSource.js.map

{
  "version": 3,
  "sources": ["../../../../../../src/internal/discovery/use-case/ListenToConnectedDeviceUseCase.ts"],
  "sourcesContent": ["import { inject, injectable } from \"inversify\";\nimport { map, Observable } from \"rxjs\";\n\nimport { LoggerPublisherService } from \"@api/logger-publisher/service/LoggerPublisherService\";\nimport { ConnectedDevice } from \"@api/transport/model/ConnectedDevice\";\nimport { deviceSessionTypes } from \"@internal/device-session/di/deviceSessionTypes\";\nimport type { DeviceSessionService } from \"@internal/device-session/service/DeviceSessionService\";\nimport { loggerTypes } from \"@internal/logger-publisher/di/loggerTypes\";\n\n/**\n * Listen to connected devices\n */\n@injectable()\nexport class ListenToConnectedDeviceUseCase {\n  private readonly _logger: LoggerPublisherService;\n\n  constructor(\n    @inject(deviceSessionTypes.DeviceSessionService)\n    private readonly _sessionService: DeviceSessionService,\n    @inject(loggerTypes.LoggerPublisherServiceFactory)\n    loggerFactory: (tag: string) => LoggerPublisherService,\n  ) {\n    this._logger = loggerFactory(\"ListenToConnectedDeviceUseCase\");\n  }\n\n  execute(): Observable<ConnectedDevice> {\n    this._logger.info(\"Observe connected devices\");\n    return this._sessionService.sessionsObs.pipe(\n      map(\n        (deviceSession) =>\n          new ConnectedDevice({\n            transportConnectedDevice: deviceSession.connectedDevice,\n            sessionId: deviceSession.id,\n          }),\n      ),\n    );\n  }\n}\n"],
  "mappings": "iOAAA,OAAS,UAAAA,EAAQ,cAAAC,MAAkB,YACnC,OAAS,OAAAC,MAAuB,OAGhC,OAAS,mBAAAC,MAAuB,uCAChC,OAAS,sBAAAC,MAA0B,iDAEnC,OAAS,eAAAC,MAAmB,4CAMrB,IAAMC,EAAN,KAAqC,CAG1C,YAEmBC,EAEjBC,EACA,CAHiB,qBAAAD,EAIjB,KAAK,QAAUC,EAAc,gCAAgC,CAC/D,CATiB,QAWjB,SAAuC,CACrC,YAAK,QAAQ,KAAK,2BAA2B,EACtC,KAAK,gBAAgB,YAAY,KACtCC,EACGC,GACC,IAAIC,EAAgB,CAClB,yBAA0BD,EAAc,gBACxC,UAAWA,EAAc,EAC3B,CAAC,CACL,CACF,CACF,CACF,EAxBaJ,EAANM,EAAA,CADNC,EAAW,EAKPC,EAAA,EAAAC,EAAOC,EAAmB,oBAAoB,GAE9CF,EAAA,EAAAC,EAAOE,EAAY,6BAA6B,IANxCX",
  "names": ["inject", "injectable", "map", "ConnectedDevice", "deviceSessionTypes", "loggerTypes", "ListenToConnectedDeviceUseCase", "_sessionService", "loggerFactory", "map", "deviceSession", "ConnectedDevice", "__decorateClass", "injectable", "__decorateParam", "inject", "deviceSessionTypes", "loggerTypes"]
}

import{ConnectedDevice as n}from"../../../api/transport/model/ConnectedDevice";import{DEVICE_SESSION_REFRESHER_DEFAULT_OPTIONS as c}from"../../device-session/data/DeviceSessionRefresherConst";import{deviceSessionStubBuilder as a}from"../../device-session/model/DeviceSession.stub";import{DefaultDeviceSessionService as l}from"../../device-session/service/DefaultDeviceSessionService";import{ListConnectedDevicesUseCase as S}from"../../discovery/use-case/ListConnectedDevicesUseCase";import{DefaultLoggerPublisherService as v}from"../../logger-publisher/service/DefaultLoggerPublisherService";import{AxiosManagerApiDataSource as D}from"../../manager-api/data/AxiosManagerApiDataSource";import{DefaultManagerApiService as f}from"../../manager-api/service/DefaultManagerApiService";import{DefaultSecureChannelDataSource as d}from"../../secure-channel/data/DefaultSecureChannelDataSource";import{DefaultSecureChannelService as C}from"../../secure-channel/service/DefaultSecureChannelService";let i,o,m,s,p,t;describe("ListDeviceSessionsUseCase",()=>{beforeEach(()=>{i=new v([],"list-device-sessions-use-case-test"),m=new D({}),s=new f(m),p=new d({}),t=new C(p),o=new l(()=>i)}),it("should list all device sessions",()=>{const r=a({id:"1"},()=>i,s,t,c),e=a({id:"2"},()=>i,s,t,c);o.addDeviceSession(r),o.addDeviceSession(e);const u=new S(o,()=>i).execute();r.close(),e.close(),expect(u).toStrictEqual([new n({transportConnectedDevice:r.connectedDevice,sessionId:r.id}),new n({transportConnectedDevice:e.connectedDevice,sessionId:e.id})])}),it("should return empty array if no device sessions",()=>{const e=new S(o,()=>i).execute();expect(e).toStrictEqual([])})});
//# sourceMappingURL=ListConnectedDevicesUseCase.test.js.map

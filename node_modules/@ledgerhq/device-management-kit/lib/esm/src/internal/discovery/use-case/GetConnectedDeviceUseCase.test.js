import{ConnectedDevice as s}from"../../../api/transport/model/ConnectedDevice";import{DEVICE_SESSION_REFRESHER_DEFAULT_OPTIONS as a}from"../../device-session/data/DeviceSessionRefresherConst";import{deviceSessionStubBuilder as S}from"../../device-session/model/DeviceSession.stub";import{DefaultDeviceSessionService as f}from"../../device-session/service/DefaultDeviceSessionService";import{DefaultLoggerPublisherService as l}from"../../logger-publisher/service/DefaultLoggerPublisherService";import{AxiosManagerApiDataSource as D}from"../../manager-api/data/AxiosManagerApiDataSource";import{DefaultManagerApiService as d}from"../../manager-api/service/DefaultManagerApiService";import{DefaultSecureChannelDataSource as g}from"../../secure-channel/data/DefaultSecureChannelDataSource";import{DefaultSecureChannelService as C}from"../../secure-channel/service/DefaultSecureChannelService";import{GetConnectedDeviceUseCase as m}from"./GetConnectedDeviceUseCase";vi.mock("@internal/manager-api/data/AxiosManagerApiDataSource");let r,o,p,t,u,c;const i="fakeSessionId";describe("GetConnectedDevice",()=>{beforeEach(()=>{r=new l([],"get-connected-device-use-case"),p=new D({}),t=new d(p),u=new g({}),c=new C(u),o=new f(()=>r)}),it("should retrieve an instance of ConnectedDevice",()=>{const e=S({id:i},()=>r,t,c,a);o.addDeviceSession(e);const n=new m(o,()=>r).execute({sessionId:i});e.close(),expect(n).toBeInstanceOf(s)}),it("should retrieve correct device from session",()=>{const e=S({id:i},()=>r,t,c,a);o.addDeviceSession(e);const n=new m(o,()=>r).execute({sessionId:i});e.close(),expect(n).toStrictEqual(new s({sessionId:i,transportConnectedDevice:e.connectedDevice}))})});
//# sourceMappingURL=GetConnectedDeviceUseCase.test.js.map

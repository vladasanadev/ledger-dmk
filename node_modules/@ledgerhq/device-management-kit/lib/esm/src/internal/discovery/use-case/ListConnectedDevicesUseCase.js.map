{
  "version": 3,
  "sources": ["../../../../../../src/internal/discovery/use-case/ListConnectedDevicesUseCase.ts"],
  "sourcesContent": ["import { inject, injectable } from \"inversify\";\n\nimport { type LoggerPublisherService } from \"@api/logger-publisher/service/LoggerPublisherService\";\nimport { ConnectedDevice } from \"@api/transport/model/ConnectedDevice\";\nimport { deviceSessionTypes } from \"@internal/device-session/di/deviceSessionTypes\";\nimport type { DeviceSessionService } from \"@internal/device-session/service/DeviceSessionService\";\nimport { loggerTypes } from \"@internal/logger-publisher/di/loggerTypes\";\n\n/**\n * List all connected devices.\n */\n@injectable()\nexport class ListConnectedDevicesUseCase {\n  private readonly _sessionService: DeviceSessionService;\n  private readonly _logger: LoggerPublisherService;\n\n  constructor(\n    @inject(deviceSessionTypes.DeviceSessionService)\n    sessionService: DeviceSessionService,\n    @inject(loggerTypes.LoggerPublisherServiceFactory)\n    loggerFactory: (tag: string) => LoggerPublisherService,\n  ) {\n    this._sessionService = sessionService;\n    this._logger = loggerFactory(\"ListConnectedDeviceUseCase\");\n  }\n\n  execute(): ConnectedDevice[] {\n    this._logger.info(\"Listing connected devices\");\n    return this._sessionService.getDeviceSessions().map(\n      (session) =>\n        new ConnectedDevice({\n          transportConnectedDevice: session.connectedDevice,\n          sessionId: session.id,\n        }),\n    );\n  }\n}\n"],
  "mappings": "iOAAA,OAAS,UAAAA,EAAQ,cAAAC,MAAkB,YAGnC,OAAS,mBAAAC,MAAuB,uCAChC,OAAS,sBAAAC,MAA0B,iDAEnC,OAAS,eAAAC,MAAmB,4CAMrB,IAAMC,EAAN,KAAkC,CACtB,gBACA,QAEjB,YAEEC,EAEAC,EACA,CACA,KAAK,gBAAkBD,EACvB,KAAK,QAAUC,EAAc,4BAA4B,CAC3D,CAEA,SAA6B,CAC3B,YAAK,QAAQ,KAAK,2BAA2B,EACtC,KAAK,gBAAgB,kBAAkB,EAAE,IAC7CC,GACC,IAAIC,EAAgB,CAClB,yBAA0BD,EAAQ,gBAClC,UAAWA,EAAQ,EACrB,CAAC,CACL,CACF,CACF,EAxBaH,EAANK,EAAA,CADNC,EAAW,EAMPC,EAAA,EAAAC,EAAOC,EAAmB,oBAAoB,GAE9CF,EAAA,EAAAC,EAAOE,EAAY,6BAA6B,IAPxCV",
  "names": ["inject", "injectable", "ConnectedDevice", "deviceSessionTypes", "loggerTypes", "ListConnectedDevicesUseCase", "sessionService", "loggerFactory", "session", "ConnectedDevice", "__decorateClass", "injectable", "__decorateParam", "inject", "deviceSessionTypes", "loggerTypes"]
}

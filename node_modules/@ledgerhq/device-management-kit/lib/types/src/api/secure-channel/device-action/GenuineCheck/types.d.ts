import { type EitherAsync } from "purify-ts";
import { type Observable } from "rxjs";
import { type GetOsVersionCommandResult, type GetOsVersionResponse } from "../../../command/os/GetOsVersionCommand";
import { type DeviceActionState } from "../../../device-action/model/DeviceActionState";
import { type UserInteractionRequired } from "../../../device-action/model/UserInteractionRequired";
import { type UnknownDAError } from "../../../device-action/os/Errors";
import { type SecureChannelEvent } from "../../../secure-channel/task/types";
import { type Input } from "../../../secure-channel/types";
import { type CommandErrorResult, type DeviceSessionState, type GoToDashboardDAError, type GoToDashboardDAInput } from "../../../types";
import { type DeviceVersion } from "../../../../internal/manager-api/model/Device";
import { type HttpFetchApiError } from "../../../../internal/manager-api/model/Errors";
import { type FinalFirmware } from "../../../../internal/manager-api/model/Firmware";
import type { SecureChannelDAErrors } from "../../../../internal/secure-channel/model/Errors";
export type GenuineCheckDAOutput = {
    isGenuine: boolean;
};
export type GenuineCheckDAInput = GoToDashboardDAInput;
export type GenuineCheckDAError = CommandErrorResult["error"] | GoToDashboardDAError | HttpFetchApiError | SecureChannelDAErrors | UnknownDAError;
export type GenuineCheckDARequiredInteraction = UserInteractionRequired.None | UserInteractionRequired.UnlockDevice | UserInteractionRequired.AllowSecureConnection;
export type GenuineCheckDAIntermediateValue = {
    requiredUserInteraction: GenuineCheckDARequiredInteraction;
    deviceId?: Uint8Array;
};
export type GenuineCheckDAState = DeviceActionState<GenuineCheckDAOutput, GenuineCheckDAError, GenuineCheckDAIntermediateValue>;
export type GenuineCheckStateMachineInternalState = {
    error: GenuineCheckDAError | null;
    result: {
        isGenuine: boolean;
    };
    getOsVersionResponse: GetOsVersionResponse | null;
    deviceVersion: DeviceVersion | null;
    firmwareVersion: FinalFirmware | null;
};
export type MachineDependencies = {
    getOsVersion: () => Promise<GetOsVersionCommandResult>;
    getDeviceVersion: (args: Input<{
        deviceInfo: GetOsVersionResponse;
    }>) => EitherAsync<HttpFetchApiError, DeviceVersion>;
    getFirmwareVersion: (args: Input<{
        deviceInfo: GetOsVersionResponse;
        deviceVersion: DeviceVersion;
    }>) => EitherAsync<HttpFetchApiError, FinalFirmware>;
    genuineCheck: (args: Input<{
        deviceInfo: GetOsVersionResponse;
        finalFirmware: FinalFirmware;
    }>) => Observable<SecureChannelEvent>;
    getDeviceSessionState: () => DeviceSessionState;
    setDeviceSessionState: (state: DeviceSessionState) => DeviceSessionState;
};
//# sourceMappingURL=types.d.ts.map
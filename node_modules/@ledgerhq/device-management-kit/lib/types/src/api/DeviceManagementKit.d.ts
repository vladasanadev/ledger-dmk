import { type Container } from "inversify";
import { type Observable } from "rxjs";
import { type CommandResult } from "./command/model/CommandResult";
import { type SendCommandUseCaseArgs } from "./command/use-case/SendCommandUseCase";
import { type ExecuteDeviceActionUseCaseArgs } from "./device-action/use-case/ExecuteDeviceActionUseCase";
import { type ApduResponse } from "./device-session/ApduResponse";
import { type DeviceSessionState } from "./device-session/DeviceSessionState";
import { type DeviceSessionId } from "./device-session/types";
import { type ConnectedDevice } from "./transport/model/ConnectedDevice";
import { type ConnectUseCaseArgs, type DisconnectUseCaseArgs, type DiscoveredDevice, type GetConnectedDeviceUseCaseArgs, type SendApduUseCaseArgs, type StartDiscoveringUseCaseArgs } from "./types";
import { type ListenToAvailableDevicesUseCaseArgs } from "../internal/discovery/use-case/ListenToAvailableDevicesUseCase";
import { type ReconnectUseCaseArgs } from "../internal/discovery/use-case/ReconnectUseCase";
import { type DeviceActionIntermediateValue, type ExecuteDeviceActionReturnType } from "./device-action/DeviceAction";
import { type DmkError } from "./Error";
/**
 * The main class to interact with the Device Management Kit.
 *
 * NB: do not instantiate this class directly, instead, use `LedgerDMKBuilder`.
 */
export declare class DeviceManagementKit {
    readonly container: Container;
    /**
     * Returns a promise resolving to the version of the SDK.
     */
    getVersion(): Promise<string>;
    /**
     * Starts discovering devices connected.
     *
     * For the WeHID implementation, this use-case needs to be called as a result
     * of an user interaction (button "click" event for ex).
     *
     * @param {StartDiscoveringUseCaseArgs} args - The transport to use for discover, or undefined to discover from all transports.
     * @returns {Observable<DiscoveredDevice>} An observable of discovered devices.
     */
    startDiscovering(args: StartDiscoveringUseCaseArgs): Observable<DiscoveredDevice>;
    /**
     * Stops discovering devices connected.
     */
    stopDiscovering(): Promise<void>;
    /**
     * Listen to list of known discovered devices (and later BLE).
     * @param {ListenToAvailableDevicesUseCaseArgs} args - The transport to use for discover, or undefined to discover from all transports.
     * @returns {Observable<DiscoveredDevice[]>} An observable of known discovered devices.
     */
    listenToAvailableDevices(args: ListenToAvailableDevicesUseCaseArgs): Observable<DiscoveredDevice[]>;
    /**
     * Reconnects a device session by disconnecting and reconnecting to the device.
     *
     * @param args - The arguments for reconnecting the device session.
     *   - `device`: The connected device.
     *   - `sessionRefresherOptions` (optional): Configuration for session refreshing.
     *     - `isRefresherDisabled`: Whether the refresher is disabled.
     *     - `pollingInterval`: The refresh interval in milliseconds
     * @returns The session ID to use for further communication with the device.
     */
    reconnect(args: ReconnectUseCaseArgs): Promise<DeviceSessionId>;
    /**
     * Connects to a device previously discovered with `DeviceManagementKit.startDiscovering`.
     * Creates a new device session which:
     * - Represents the connection to the device.
     * - Is terminated upon disconnection of the device.
     * - Exposes the device state through an observable (see `DeviceManagementKit.getDeviceSessionState`)
     * - Should be used for all subsequent communication with the device.
     *
     * @param {ConnectUseCaseArgs} args - The arguments for connecting to the device.
     *   - `device`: The discovered device obtained from `StartDiscoveringUseCase`.
     *   - `sessionRefresherOptions` (optional): Configuration for session refreshing.
     *     - `isRefresherDisabled`: Whether the refresher is disabled.
     *     - `pollingInterval`: The refresh interval in milliseconds
     * @returns The session ID to use for further communication with the device.
     */
    connect(args: ConnectUseCaseArgs): Promise<DeviceSessionId>;
    /**
     * Disconnects to a discovered device.
     *
     * @param {DisconnectUseCaseArgs} args - The session ID to disconnect.
     */
    disconnect(args: DisconnectUseCaseArgs): Promise<void>;
    /**
     * Sends an APDU command to a device through a device session.
     *
     * @param {SendApduUseCaseArgs} args - The device session ID and APDU command to send.
     */
    sendApdu(args: SendApduUseCaseArgs): Promise<ApduResponse>;
    /**
     * Sends a command to a device through a device session.
     *
     * @param {SendCommandUseCaseArgs<Response, Args, ErrorCodes>} args - The device session ID, command, command error codes and command parameters to send.
     * @returns A promise resolving with the response from the command.
     */
    sendCommand<Response, Args, ErrorCodes>(args: SendCommandUseCaseArgs<Response, Args, ErrorCodes>): Promise<CommandResult<Response, ErrorCodes>>;
    executeDeviceAction<Output, Input, Error extends DmkError, IntermediateValue extends DeviceActionIntermediateValue>(args: ExecuteDeviceActionUseCaseArgs<Output, Input, Error, IntermediateValue>): ExecuteDeviceActionReturnType<Output, Error, IntermediateValue>;
    /**
     * Gets the connected from its device session ID.
     *
     * @param {GetConnectedDeviceUseCaseArgs} args - The device session ID.
     * @returns {ConnectedDevice} The connected device.
     */
    getConnectedDevice(args: GetConnectedDeviceUseCaseArgs): ConnectedDevice;
    /**
     * Gets the device state of a session.
     *
     * @param {{ sessionId: DeviceSessionId }} args - The device session ID.
     * @returns {Observable<DeviceSessionState>} An observable of the session device state.
     */
    getDeviceSessionState(args: {
        sessionId: DeviceSessionId;
    }): Observable<DeviceSessionState>;
    /**
     * Close the Device Management kit.
     *
     */
    close(): void;
    /**
     * Lists all connected devices.
     *
     * @returns {ConnectedDevice[]} The list of device sessions.
     */
    listConnectedDevices(): ConnectedDevice[];
    /**
     * Listen to connected device.
     *
     * @returns {Observable<ConnectedDevice>} An observable of connected device.
     */
    listenToConnectedDevice(): Observable<ConnectedDevice>;
    /**
     * Disable the device session refresher.
     *
     * @param {DisableDeviceSessionRefresherUseCaseArgs} args - The device session ID and a string to identify the blocker.
     * @returns {() => void} A function to reenable the device session refresher.
     */
    disableDeviceSessionRefresher(args: {
        sessionId: DeviceSessionId;
        blockerId: string;
    }): () => void;
    /**
     * Sets the provider for the manager API.
     *
     * @param {number} provider - The provider to set.
     */
    setProvider(provider: number): void;
    /**
     * Returns the current provider value from the manager API data source.
     */
    getProvider(): number;
    /**
     * Check if the current environment is supported by any transport.
     */
    isEnvironmentSupported(): boolean;
}
//# sourceMappingURL=DeviceManagementKit.d.ts.map
import { type CommandResult } from "../../../command/model/CommandResult";
import { type InternalApi } from "../../../device-action/DeviceAction";
import { UserInteractionRequired } from "../../../device-action/model/UserInteractionRequired";
import { type DeviceActionStateMachine, XStateDeviceAction } from "../../../device-action/xstate-utils/XStateDeviceAction";
import { type CallTaskInAppDAError, type CallTaskInAppDAInput, type CallTaskInAppDAIntermediateValue, type CallTaskInAppDAInternalState, type CallTaskInAppDAOutput } from "./CallTaskInAppDeviceActionTypes";
/**
 * Tries to open an app on the device, and if it is successful, calls a task
 * in the app.
 * The output will be the result of the task.
 *
 * ```ts
 * input: {
 *  appName: string;
 *  task: (internalApi: InternalApi) => Promise<CommandResult<TaskResponse, TaskErrorCodes>>;
 *  requiredUserInteraction: UserInteraction;
 * }
 * ```
 *
 * Example of usage:
 *
 * ```ts
 * const deviceAction = new CallTaskInAppDeviceAction({
 *  input: {
 *   appName: "MyApp",
 *   task: async (internalApi: InternalApi) => internalApi.sendCommand(new MyAppSpecificCommand()),
 *   requiredUserInteraction: UserInteractionRequired.None,
 *  },
 * });
 * dmk.executeDeviceAction({ sessionId: "mySessionId", deviceAction });
 * ```
 */
export declare class CallTaskInAppDeviceAction<TaskResponse, TaskErrorCodes, UserInteraction extends UserInteractionRequired> extends XStateDeviceAction<CallTaskInAppDAOutput<TaskResponse>, CallTaskInAppDAInput<TaskResponse, TaskErrorCodes, UserInteraction>, CallTaskInAppDAError<TaskErrorCodes>, CallTaskInAppDAIntermediateValue<UserInteraction>, CallTaskInAppDAInternalState<TaskResponse, TaskErrorCodes>> {
    makeStateMachine(internalAPI: InternalApi): DeviceActionStateMachine<CallTaskInAppDAOutput<TaskResponse>, CallTaskInAppDAInput<TaskResponse, TaskErrorCodes, UserInteraction>, CallTaskInAppDAError<TaskErrorCodes>, CallTaskInAppDAIntermediateValue<UserInteraction>, CallTaskInAppDAInternalState<TaskResponse, TaskErrorCodes>>;
    extractDependencies(internalApi: InternalApi): {
        callTask: (_: {
            input: (internalApi: InternalApi) => Promise<CommandResult<TaskResponse, TaskErrorCodes>>;
        }) => Promise<CommandResult<TaskResponse, TaskErrorCodes>>;
    };
}
//# sourceMappingURL=CallTaskInAppDeviceAction.d.ts.map
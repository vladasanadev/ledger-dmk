import { type Observable } from "rxjs";
import { type InternalApi } from "../../../device-action/DeviceAction";
import { type GetApplicationsMetadataTaskResult, type InstalledApp } from "../../../device-action/task/GetApplicationsMetadataTask";
import { type GetFirmwareMetadataTaskResult } from "../../../device-action/task/GetFirmwareMetadataTask";
import { type DeviceActionStateMachine, XStateDeviceAction } from "../../../device-action/xstate-utils/XStateDeviceAction";
import { type Catalog, type CustomImage, type FirmwareUpdateContext, type FirmwareVersion, type InstalledLanguagePackage } from "../../../device-session/DeviceSessionState";
import { type SecureChannelEvent } from "../../../secure-channel/task/types";
import { type Application } from "../../../../internal/manager-api/model/Application";
import { type DeviceVersion } from "../../../../internal/manager-api/model/Device";
import { type FinalFirmware } from "../../../../internal/manager-api/model/Firmware";
import { type GetDeviceMetadataDAError, type GetDeviceMetadataDAInput, type GetDeviceMetadataDAIntermediateValue, type GetDeviceMetadataDAOutput } from "./types";
type GetDeviceMetadataMachineInternalState = {
    readonly error: GetDeviceMetadataDAError | null;
    readonly deviceVersion: DeviceVersion | null;
    readonly firmware: FinalFirmware | null;
    readonly firmwareVersion: FirmwareVersion | null;
    readonly firmwareUpdateContext: FirmwareUpdateContext | null;
    readonly customImage: CustomImage | null;
    readonly installedApps: InstalledApp[] | null;
    readonly applications: Application[] | null;
    readonly applicationsUpdates: Application[] | null;
    readonly installedLanguages: InstalledLanguagePackage[] | null;
    readonly catalog: Catalog | null;
};
export type GetDeviceMetadataFromContextTaskResult = {
    readonly firmwareVersion: FirmwareVersion;
    readonly firmwareUpdateContext: FirmwareUpdateContext;
    readonly customImage: CustomImage;
    readonly applications: Application[];
    readonly applicationsUpdates: Application[];
    readonly installedLanguages: InstalledLanguagePackage[];
    readonly catalog: Catalog;
} | null;
export type MachineDependencies = {
    readonly getDeviceMetadata: () => Promise<GetDeviceMetadataFromContextTaskResult>;
    readonly getFirmwareMetadata: () => Promise<GetFirmwareMetadataTaskResult>;
    readonly getApplicationsMetadata: (arg0: {
        input: {
            deviceVersion: DeviceVersion;
            firmware: FinalFirmware;
            firmwareVersion: FirmwareVersion;
            installedApps: InstalledApp[];
        };
    }) => Promise<GetApplicationsMetadataTaskResult>;
    readonly listAppsSecureChannel: (arg0: {
        input: {
            firmware: FinalFirmware;
            firmwareVersion: FirmwareVersion;
        };
    }) => Observable<SecureChannelEvent>;
};
export type ExtractMachineDependencies = (internalApi: InternalApi) => MachineDependencies;
export declare class GetDeviceMetadataDeviceAction extends XStateDeviceAction<GetDeviceMetadataDAOutput, GetDeviceMetadataDAInput, GetDeviceMetadataDAError, GetDeviceMetadataDAIntermediateValue, GetDeviceMetadataMachineInternalState> {
    makeStateMachine(internalApi: InternalApi): DeviceActionStateMachine<GetDeviceMetadataDAOutput, GetDeviceMetadataDAInput, GetDeviceMetadataDAError, GetDeviceMetadataDAIntermediateValue, GetDeviceMetadataMachineInternalState>;
    extractDependencies(internalApi: InternalApi): MachineDependencies;
}
export {};
//# sourceMappingURL=GetDeviceMetadataDeviceAction.d.ts.map
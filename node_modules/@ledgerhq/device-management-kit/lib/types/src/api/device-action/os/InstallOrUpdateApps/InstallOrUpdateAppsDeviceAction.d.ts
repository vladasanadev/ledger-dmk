import { type Observable } from "rxjs";
import { type InternalApi } from "../../../device-action/DeviceAction";
import { type BuildAppsInstallPlanTaskResult } from "../../../device-action/task/BuildAppsInstallPlanTask";
import { type PredictOutOfMemoryTaskResult } from "../../../device-action/task/PredictOutOfMemoryTask";
import { type DeviceActionStateMachine, XStateDeviceAction } from "../../../device-action/xstate-utils/XStateDeviceAction";
import { type GetOsVersionResponse } from "../../../index";
import { type SecureChannelEvent } from "../../../secure-channel/task/types";
import { type Application } from "../../../../internal/manager-api/model/Application";
import { type ApplicationDependency, type InstallOrUpdateAppsDAError, type InstallOrUpdateAppsDAInput, type InstallOrUpdateAppsDAIntermediateValue, type InstallOrUpdateAppsDAOutput } from "./types";
type InstallOrUpdateAppsMachineInternalState = {
    readonly error: InstallOrUpdateAppsDAError | null;
    readonly osVersion: GetOsVersionResponse | null;
    readonly currentIndex: number;
};
export type MachineDependencies = {
    readonly buildInstallPlan: (arg0: {
        input: {
            applications: ApplicationDependency[];
            allowMissingApplication: boolean;
        };
    }) => Promise<BuildAppsInstallPlanTaskResult>;
    readonly predictOutOfMemory: (arg0: {
        input: {
            installPlan: Application[];
        };
    }) => Promise<PredictOutOfMemoryTaskResult>;
    readonly installApp: (arg0: {
        input: {
            osVersion: GetOsVersionResponse;
            application: Application;
        };
    }) => Observable<SecureChannelEvent>;
};
export type ExtractMachineDependencies = (internalApi: InternalApi) => MachineDependencies;
export declare class InstallOrUpdateAppsDeviceAction extends XStateDeviceAction<InstallOrUpdateAppsDAOutput, InstallOrUpdateAppsDAInput, InstallOrUpdateAppsDAError, InstallOrUpdateAppsDAIntermediateValue, InstallOrUpdateAppsMachineInternalState> {
    makeStateMachine(internalApi: InternalApi): DeviceActionStateMachine<InstallOrUpdateAppsDAOutput, InstallOrUpdateAppsDAInput, InstallOrUpdateAppsDAError, InstallOrUpdateAppsDAIntermediateValue, InstallOrUpdateAppsMachineInternalState>;
    extractDependencies(internalApi: InternalApi): MachineDependencies;
}
export {};
//# sourceMappingURL=InstallOrUpdateAppsDeviceAction.d.ts.map